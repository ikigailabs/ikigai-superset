"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[9563],{59632:(e,t,a)=>{var n=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(a(64543)),o=0,l={};function i(e){var t=o++,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return l[t]=(0,r.default)((function n(){(a-=1)<=0?(e(),delete l[t]):l[t]=(0,r.default)(n)})),t}i.cancel=function(e){void 0!==e&&(r.default.cancel(l[e]),delete l[e])},i.ids=l},77380:(e,t,a)=>{var n=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(56690));t.default=function e(t){return(0,r.default)(this,e),new Error("unreachable case: ".concat(JSON.stringify(t)))}},61539:(e,t,a)=>{var n=a(16338),r=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l=r(a(56690)),i=r(a(89728)),c=r(a(66115)),s=r(a(61655)),u=r(a(26389)),d=n(a(67294)),f=a(75531),p=r(a(59632)),m=a(31929),g=a(47419);function b(e){return!e||null===e.offsetParent||e.hidden}var h=function(e){(0,s.default)(a,e);var t=(0,u.default)(a);function a(){var e;return(0,l.default)(this,a),(e=t.apply(this,arguments)).containerRef=d.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,a){if(!(!t||b(t)||t.className.indexOf("-leave")>=0)){var n=e.props.insertExtraNode;e.extraNode=document.createElement("div");var r=(0,c.default)(e).extraNode,l=e.context.getPrefixCls;r.className="".concat(l(""),"-click-animating-node");var i,s=e.getAttributeName();t.setAttribute(s,"true"),o=o||document.createElement("style"),!a||"#ffffff"===a||"rgb(255, 255, 255)"===a||(i=(a||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/))&&i[1]&&i[2]&&i[3]&&i[1]===i[2]&&i[2]===i[3]||/rgba\((?:\d*, ){3}0\)/.test(a)||"transparent"===a||(e.csp&&e.csp.nonce&&(o.nonce=e.csp.nonce),r.style.borderColor=a,o.innerHTML="\n      [".concat(l(""),"-click-animating-without-extra-node='true']::after, .").concat(l(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(a,";\n      }"),document.body.contains(o)||document.body.appendChild(o)),n&&t.appendChild(r),["transition","animation"].forEach((function(a){t.addEventListener("".concat(a,"start"),e.onTransitionStart),t.addEventListener("".concat(a,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var a=e.containerRef.current;t&&t.target===a&&!e.animationStart&&e.resetEffect(a)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var a=function(a){if("INPUT"!==a.target.tagName&&!b(a.target)){e.resetEffect(t);var n=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,n)}),0),p.default.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=(0,p.default)((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",a,!0),{cancel:function(){t.removeEventListener("click",a,!0)}}}},e.renderWave=function(t){var a=t.csp,n=e.props.children;if(e.csp=a,!d.isValidElement(n))return n;var r=e.containerRef;return(0,f.supportRef)(n)&&(r=(0,f.composeRef)(n.ref,e.containerRef)),(0,g.cloneElement)(n,{ref:r})},e}return(0,i.default)(a,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var a=this.props.insertExtraNode,n=this.getAttributeName();e.setAttribute(n,"false"),o&&(o.innerHTML=""),a&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(a){e.removeEventListener("".concat(a,"start"),t.onTransitionStart),e.removeEventListener("".concat(a,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return d.createElement(m.ConfigConsumer,null,this.renderWave)}}]),a}(d.Component);t.default=h,h.contextType=m.ConfigContext},1429:(e,t,a)=>{var n=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67294)),o=n(a(60444)),l=n(a(4121)),i=function(){return{width:0,opacity:0,transform:"scale(0)"}},c=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}};t.default=function(e){var t=e.prefixCls,a=!!e.loading;return e.existIcon?r.default.createElement("span",{className:"".concat(t,"-loading-icon")},r.default.createElement(l.default,null)):r.default.createElement(o.default,{visible:a,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:i,onAppearActive:c,onEnterStart:i,onEnterActive:c,onLeaveStart:c,onLeaveActive:i},(function(e,a){var n=e.className,o=e.style;return r.default.createElement("span",{className:"".concat(t,"-loading-icon"),style:o,ref:a},r.default.createElement(l.default,{className:n}))}))}},77677:(e,t,a)=>{var n=a(16338),r=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a(10434)),l=r(a(38416)),i=n(a(67294)),c=r(a(94184)),s=a(31929),u=r(a(77380));t.default=function(e){return i.createElement(s.ConfigConsumer,null,(function(t){var a,n=t.getPrefixCls,r=t.direction,s=e.prefixCls,d=e.size,f=e.className,p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["prefixCls","size","className"]),m=n("btn-group",s),g="";switch(d){case"large":g="lg";break;case"small":g="sm";break;case"middle":case void 0:break;default:console.warn(new u.default(d))}var b=(0,c.default)(m,(a={},(0,l.default)(a,"".concat(m,"-").concat(g),g),(0,l.default)(a,"".concat(m,"-rtl"),"rtl"===r),a),f);return i.createElement("div",(0,o.default)({},p,{className:b}))}))}},76346:(e,t,a)=>{var n=a(16338),r=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.convertLegacyProps=function(e){return"danger"===e?{danger:!0}:{type:e}},t.default=void 0;var o=r(a(10434)),l=r(a(38416)),i=r(a(27424)),c=r(a(18698)),s=n(a(67294)),u=r(a(94184)),d=r(a(18475)),f=r(a(77677)),p=a(31929),m=r(a(61539)),g=a(61592),b=r(a(72454)),h=r(a(25242)),v=r(a(1429)),y=a(47419),Z=/^[\u4e00-\u9fa5]{2}$/,k=Z.test.bind(Z);function E(e){return"text"===e||"link"===e}(0,g.tuple)("default","primary","ghost","dashed","link","text"),(0,g.tuple)("circle","round"),(0,g.tuple)("submit","button","reset");var w=function(e,t){var a,n,r=e.loading,f=void 0!==r&&r,g=e.prefixCls,Z=e.type,w=e.danger,C=e.shape,S=e.size,x=e.className,N=e.children,T=e.icon,_=e.ghost,A=void 0!==_&&_,O=e.block,R=void 0!==O&&O,L=e.htmlType,P=void 0===L?"button":L,$=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),z=s.useContext(h.default),I=s.useState(!!f),j=(0,i.default)(I,2),M=j[0],D=j[1],H=s.useState(!1),W=(0,i.default)(H,2),B=W[0],U=W[1],G=s.useContext(p.ConfigContext),V=G.getPrefixCls,F=G.autoInsertSpaceInButton,q=G.direction,J=t||s.createRef(),Y=s.useRef(),X=function(){return 1===s.Children.count(N)&&!T&&!E(Z)};n="object"===(0,c.default)(f)&&f.delay?f.delay||!0:!!f,s.useEffect((function(){clearTimeout(Y.current),"number"==typeof n?Y.current=window.setTimeout((function(){D(n)}),n):D(n)}),[n]),s.useEffect((function(){if(J&&J.current&&!1!==F){var e=J.current.textContent;X()&&k(e)?B||U(!0):B&&U(!1)}}),[J]);var K=function(t){var a=e.onClick;M||a&&a(t)};(0,b.default)(!("string"==typeof T&&T.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(T,"` at https://ant.design/components/icon")),(0,b.default)(!(A&&E(Z)),"Button","`link` or `text` button can't be a `ghost` button.");var Q=V("btn",g),ee=!1!==F,te="";switch(S||z){case"large":te="lg";break;case"small":te="sm"}var ae=M?"loading":T,ne=(0,u.default)(Q,(a={},(0,l.default)(a,"".concat(Q,"-").concat(Z),Z),(0,l.default)(a,"".concat(Q,"-").concat(C),C),(0,l.default)(a,"".concat(Q,"-").concat(te),te),(0,l.default)(a,"".concat(Q,"-icon-only"),!N&&0!==N&&ae),(0,l.default)(a,"".concat(Q,"-background-ghost"),A&&!E(Z)),(0,l.default)(a,"".concat(Q,"-loading"),M),(0,l.default)(a,"".concat(Q,"-two-chinese-chars"),B&&ee),(0,l.default)(a,"".concat(Q,"-block"),R),(0,l.default)(a,"".concat(Q,"-dangerous"),!!w),(0,l.default)(a,"".concat(Q,"-rtl"),"rtl"===q),a),x),re=T&&!M?T:s.createElement(v.default,{existIcon:!!T,prefixCls:Q,loading:!!M}),oe=N||0===N?function(e,t){var a=!1,n=[];return s.Children.forEach(e,(function(e){var t=(0,c.default)(e),r="string"===t||"number"===t;if(a&&r){var o=n.length-1,l=n[o];n[o]="".concat(l).concat(e)}else n.push(e);a=r})),s.Children.map(n,(function(e){return function(e,t){if(null!=e){var a=t?" ":"";return"string"!=typeof e&&"number"!=typeof e&&"string"==typeof e.type&&k(e.props.children)?(0,y.cloneElement)(e,{children:e.props.children.split("").join(a)}):"string"==typeof e?(k(e)&&(e=e.split("").join(a)),s.createElement("span",null,e)):e}}(e,t)}))}(N,X()&&ee):null,le=(0,d.default)($,["navigate"]);if(void 0!==le.href)return s.createElement("a",(0,o.default)({},le,{className:ne,onClick:K,ref:J}),re,oe);var ie=s.createElement("button",(0,o.default)({},$,{type:P,className:ne,onClick:K,ref:J}),re,oe);return E(Z)?ie:s.createElement(m.default,null,ie)},C=s.forwardRef(w);C.displayName="Button",C.Group=f.default,C.__ANT_BUTTON=!0;var S=C;t.default=S},65400:(e,t,a)=>{var n=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(76346)).default;t.default=r},54070:(e,t,a)=>{a.d(t,{w:()=>i}),a(67294);var n=a(58593),r=a(83379),o=a(61988),l=a(11965);const i=({user:e,date:t})=>{const a=(0,l.tZ)("span",{className:"no-wrap","data-test":"audit-info-date"},t);if(e){const t=(0,r.Z)(e),i=(0,o.t)("Modified by: %s",t);return(0,l.tZ)(n.u,{title:i,placement:"bottom"},a)}return a}},29848:(e,t,a)=>{a.d(t,{Z:()=>s}),a(67294);var n=a(42968),r=a(58593),o=a(13322),l=a(11965);const i=n.Z.span`
  white-space: nowrap;
  min-width: 100px;
  svg,
  i {
    margin-right: 8px;

    &:hover {
      path {
        fill: ${({theme:e})=>e.colors.primary.base};
      }
    }
  }
`,c=n.Z.span`
  color: ${({theme:e})=>e.colors.grayscale.base};
`;function s({actions:e}){return(0,l.tZ)(i,{className:"actions"},e.map(((e,t)=>{const a=o.Z[e.icon];return e.tooltip?(0,l.tZ)(r.u,{id:`${e.label}-tooltip`,title:e.tooltip,placement:e.placement,key:t},(0,l.tZ)(c,{role:"button",tabIndex:0,className:"action-button","data-test":e.label,onClick:e.onClick},(0,l.tZ)(a,null))):(0,l.tZ)(c,{role:"button",tabIndex:0,className:"action-button",onClick:e.onClick,"data-test":e.label,key:t},(0,l.tZ)(a,null))})))}},94222:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(51995),r=a(61988),o=(a(67294),a(58593)),l=a(13322),i=a(90335),c=a(11965);function s(e,t,a){switch(e){case i.Z9.Working:return a.colors.primary.base;case i.Z9.Error:return a.colors.error.base;case i.Z9.Success:return t?a.colors.success.base:a.colors.alert.base;case i.Z9.Noop:return a.colors.success.base;case i.Z9.Grace:return a.colors.alert.base;default:return a.colors.grayscale.base}}function u({state:e,isReportEnabled:t=!1}){const a=(0,n.Fg)(),u={icon:l.Z.Check,label:"",status:""};switch(e){case i.Z9.Success:u.icon=t?l.Z.Check:l.Z.AlertSolidSmall,u.label=t?(0,r.t)("Report sent"):(0,r.t)("Alert triggered, notification sent"),u.status=i.Z9.Success;break;case i.Z9.Working:u.icon=l.Z.Running,u.label=t?(0,r.t)("Report sending"):(0,r.t)("Alert running"),u.status=i.Z9.Working;break;case i.Z9.Error:u.icon=l.Z.XSmall,u.label=t?(0,r.t)("Report failed"):(0,r.t)("Alert failed"),u.status=i.Z9.Error;break;case i.Z9.Noop:u.icon=l.Z.Check,u.label=(0,r.t)("Nothing triggered"),u.status=i.Z9.Noop;break;case i.Z9.Grace:u.icon=l.Z.AlertSolidSmall,u.label=(0,r.t)("Alert Triggered, In Grace Period"),u.status=i.Z9.Grace;break;default:u.icon=l.Z.Check,u.label=(0,r.t)("Nothing triggered"),u.status=i.Z9.Noop}const d=u.icon;return(0,c.tZ)(o.u,{title:u.label,placement:"bottomLeft"},(0,c.tZ)(d,{iconColor:s(u.status,t,a)}))}},32635:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B});var n=a(67294),r=a(16550),o=a(75049),l=a(61988),i=a(22102),c=a(42968),s=a(31069),u=a(30381),d=a.n(u),f=a(29848),p=a(34581),m=a(58593),g=a(93139),b=a(86074),h=a(12441),v=a(27600),y=a(14114),Z=a(94222),k=a(11965),E=a(13322),w=a(90335);const C=e=>k.iv`
  color: ${e.colors.grayscale.light1};
  margin-right: ${2*e.gridUnit}px;
`;function S({type:e}){const t={icon:null,label:""};switch(e){case w.ud.Email:t.icon=(0,k.tZ)(E.Z.Email,{css:C}),t.label=w.ud.Email;break;case w.ud.Slack:t.icon=(0,k.tZ)(E.Z.Slack,{css:C}),t.label=w.ud.Slack;break;default:t.icon=null,t.label=""}return t.icon?(0,k.tZ)(m.u,{title:t.label,placement:"bottom"},t.icon):null}var x=a(19259),N=a(17198);d().updateLocale("en",{calendar:{lastDay:"[Yesterday at] LTS",sameDay:"[Today at] LTS",nextDay:"[Tomorrow at] LTS",lastWeek:"[last] dddd [at] LTS",nextWeek:"dddd [at] LTS",sameElse:"L"}});const T=c.Z.span`
  color: ${({theme:e})=>e.colors.grayscale.base};
`,_=(0,c.Z)(E.Z.Refresh)`
  color: ${({theme:e})=>e.colors.primary.base};
  width: auto;
  height: ${({theme:e})=>5*e.gridUnit}px;
  position: relative;
  top: ${({theme:e})=>e.gridUnit}px;
  left: ${({theme:e})=>e.gridUnit}px;
  cursor: pointer;
`,A=({updatedAt:e,update:t})=>{const[a,r]=(0,n.useState)(d()(e));return(0,n.useEffect)((()=>{r((()=>d()(e)));const t=setInterval((()=>{r((()=>d()(e)))}),6e4);return()=>clearInterval(t)}),[e]),(0,k.tZ)(T,null,(0,l.t)("Last Updated %s",a.isValid()?a.calendar():"--"),t&&(0,k.tZ)(_,{onClick:t}))};var O=a(34858),R=a(40768),L=a(22318),P=a(67317),$=a(54070),z=a(12);const I=(0,o.I)(),j={[w.Z9.Success]:(0,l.t)("Success"),[w.Z9.Working]:(0,l.t)("Working"),[w.Z9.Error]:(0,l.t)("Error"),[w.Z9.Noop]:(0,l.t)("Not triggered"),[w.Z9.Grace]:(0,l.t)("On Grace")},M=(0,i.Z)({requestType:"rison",method:"DELETE",endpoint:"/api/v1/report/"}),D=c.Z.div`
  width: 100%;
  padding: 0 ${({theme:e})=>4*e.gridUnit}px
    ${({theme:e})=>3*e.gridUnit}px;
  background-color: ${({theme:e})=>e.colors.grayscale.light5};
`,H=c.Z.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  > *:first-child {
    margin-right: ${({theme:e})=>e.gridUnit}px;
  }
`,W=I.get("alertsreports.header.icon"),B=(0,y.ZP)((function({addDangerToast:e,isReportEnabled:t=!1,user:a,addSuccessToast:o}){const i=t?(0,l.t)("report"):(0,l.t)("alert"),c=t?(0,l.t)("reports"):(0,l.t)("alerts"),u=t?"Reports":"Alerts",y=(0,n.useMemo)((()=>[{id:"type",operator:g.p.Equals,value:t?"Report":"Alert"}]),[t]),{state:{loading:E,resourceCount:C,resourceCollection:T,bulkSelectEnabled:_,lastFetched:I},hasPerm:B,fetchData:U,setResourceCollection:G,refreshData:V,toggleBulkSelect:F}=(0,O.Yi)("report",(0,l.t)("reports"),e,!0,void 0,y),{updateResource:q}=(0,O.LE)("report",(0,l.t)("reports"),e),[J,Y]=(0,n.useState)(!1),[X,K]=(0,n.useState)(null),[Q,ee]=(0,n.useState)(null);function te(e){K(e),Y(!0)}const ae=B("can_write"),ne=B("can_write"),re=B("can_write");(0,n.useEffect)((()=>{_&&ne&&F()}),[t]);const oe=[{id:"name",desc:!0}],le=(0,n.useCallback)(((e,t)=>{if(null!=e&&e.id){const a=e.id,n=[...T];G(n.map((a=>(null==a?void 0:a.id)===e.id?{...a,active:t}:a))),q(a,{active:t},!1,!1).then().catch((()=>G(n)))}}),[T,G,q]),ie=(0,n.useMemo)((()=>[{Cell:({row:{original:{last_state:e}}})=>(0,k.tZ)(Z.Z,{state:e,isReportEnabled:t}),accessor:"last_state",size:"xs",disableSortBy:!0},{Cell:({row:{original:{last_eval_dttm:e}}})=>e?d().utc(e).local().format(v.v2):"",accessor:"last_eval_dttm",Header:(0,l.t)("Last run"),size:"lg"},{accessor:"name",Header:(0,l.t)("Name"),size:"xl"},{Header:(0,l.t)("Schedule"),accessor:"crontab_humanized",size:"xl",Cell:({row:{original:{crontab_humanized:e="",timezone:t}}})=>(0,k.tZ)(m.u,{title:`${e} (${t})`,placement:"topLeft"},(0,k.tZ)("span",null,`${e} (${t})`))},{Cell:({row:{original:{recipients:e}}})=>e.map((e=>(0,k.tZ)(S,{key:e.id,type:e.type}))),accessor:"recipients",Header:(0,l.t)("Notification method"),disableSortBy:!0,size:"xl"},{Cell:({row:{original:{owners:e=[]}}})=>(0,k.tZ)(p.Z,{users:e}),Header:(0,l.t)("Owners"),id:"owners",disableSortBy:!0,size:"xl"},{Cell:({row:{original:{changed_on_delta_humanized:e,changed_by:t}}})=>(0,k.tZ)($.w,{date:e,user:t}),Header:(0,l.t)("Last modified"),accessor:"changed_on_delta_humanized",size:"xl"},{Cell:({row:{original:e}})=>{const t=e.owners.map((e=>e.id)).includes(a.userId)||(0,L.i5)(a);return(0,k.tZ)(h.r,{disabled:!t,"data-test":"toggle-active",checked:e.active,onClick:t=>le(e,t),size:"small"})},Header:(0,l.t)("Active"),accessor:"active",id:"active",size:"xl"},{Cell:({row:{original:e}})=>{const t=(0,r.k6)(),n=e.owners.map((e=>e.id)).includes(a.userId)||(0,L.i5)(a),o=[ae?{label:"execution-log-action",tooltip:(0,l.t)("Execution log"),placement:"bottom",icon:"Note",onClick:()=>t.push(`/${e.type.toLowerCase()}/${e.id}/log`)}:null,ae?{label:n?"edit-action":"preview-action",tooltip:n?(0,l.t)("Edit"):(0,l.t)("View"),placement:"bottom",icon:n?"Edit":"Binoculars",onClick:()=>te(e)}:null,n&&ne?{label:"delete-action",tooltip:(0,l.t)("Delete"),placement:"bottom",icon:"Trash",onClick:()=>ee(e)}:null].filter((e=>null!==e));return(0,k.tZ)(f.Z,{actions:o})},Header:(0,l.t)("Actions"),id:"actions",hidden:!ae&&!ne,disableSortBy:!0,size:"xl"},{accessor:z.J.ChangedBy,hidden:!0}]),[ne,ae,t,le]),ce=[];re&&ce.push({name:(0,k.tZ)(n.Fragment,null,(0,k.tZ)("i",{className:"fa fa-plus"})," ",i),buttonStyle:"primary",onClick:()=>{te(null)}}),ne&&ce.push({name:(0,l.t)("Bulk select"),onClick:F,buttonStyle:"secondary","data-test":"bulk-select-toggle"});const se={title:(0,l.t)("No %s yet",c),image:"filter-results.svg",buttonAction:()=>te(null),buttonText:re?(0,k.tZ)(n.Fragment,null,(0,k.tZ)("i",{className:"fa fa-plus"})," ",i," "):null},ue=(0,n.useMemo)((()=>[{Header:(0,l.t)("Name"),key:"search",id:"name",input:"search",operator:g.p.Contains},{Header:(0,l.t)("Owner"),key:"owner",id:"owners",input:"select",operator:g.p.RelationManyMany,unfilteredLabel:(0,l.t)("All"),fetchSelects:(0,R.tm)("report","owners",(0,R.v$)((e=>(0,l.t)("An error occurred while fetching owners values: %s",e))),a),paginate:!0},{Header:(0,l.t)("Status"),key:"status",id:"last_state",input:"select",operator:g.p.Equals,unfilteredLabel:"Any",selects:[{label:j[w.Z9.Success],value:w.Z9.Success},{label:j[w.Z9.Working],value:w.Z9.Working},{label:j[w.Z9.Error],value:w.Z9.Error},{label:j[w.Z9.Noop],value:w.Z9.Noop},{label:j[w.Z9.Grace],value:w.Z9.Grace}]},{Header:(0,l.t)("Modified by"),key:"changed_by",id:"changed_by",input:"select",operator:g.p.RelationOneMany,unfilteredLabel:(0,l.t)("All"),fetchSelects:(0,R.tm)("report","changed_by",(0,R.v$)((e=>(0,l.t)("An error occurred while fetching dataset datasource values: %s",e))),a),paginate:!0}]),[]),de=W?(0,k.tZ)(H,null,(0,k.tZ)("div",null,(0,l.t)("Alerts & reports")),(0,k.tZ)(W,null)):(0,l.t)("Alerts & reports");return(0,k.tZ)(n.Fragment,null,(0,k.tZ)(b.Z,{activeChild:u,name:de,tabs:[{name:"Alerts",label:(0,l.t)("Alerts"),url:"/alert/list/",usesRouter:!0,"data-test":"alert-list"},{name:"Reports",label:(0,l.t)("Reports"),url:"/report/list/",usesRouter:!0,"data-test":"report-list"}],buttons:ce},(0,k.tZ)(D,null,(0,k.tZ)(A,{updatedAt:I,update:()=>V()}))),(0,k.tZ)(P.ZP,{alert:X,addDangerToast:e,layer:X,onHide:()=>{Y(!1),K(null),V()},show:J,isReport:t,key:(null==X?void 0:X.id)||`${(new Date).getTime()}`}),Q&&(0,k.tZ)(N.Z,{description:(0,l.t)("This action will permanently delete %s.",Q.name),onConfirm:()=>{Q&&(({id:t,name:a})=>{s.Z.delete({endpoint:`/api/v1/report/${t}`}).then((()=>{V(),ee(null),o((0,l.t)("Deleted: %s",a))}),(0,R.v$)((t=>e((0,l.t)("There was an issue deleting %s: %s",a,t)))))})(Q)},onHide:()=>ee(null),open:!0,title:(0,l.t)("Delete %s?",i)}),(0,k.tZ)(x.Z,{title:(0,l.t)("Please confirm"),description:(0,l.t)("Are you sure you want to delete the selected %s?",c),onConfirm:async t=>{try{const{message:e}=await M(t.map((({id:e})=>e)));V(),o(e)}catch(t){(0,R.v$)((t=>e((0,l.t)("There was an issue deleting the selected %s: %s",c,t))))(t)}}},(t=>{const a=ne?[{key:"delete",name:(0,l.t)("Delete"),onSelect:t,type:"danger"}]:[];return(0,k.tZ)(g.Z,{className:"alerts-list-view",columns:ie,count:C,data:T,emptyState:se,fetchData:U,filters:ue,initialSort:oe,loading:E,bulkActions:a,bulkSelectEnabled:_,disableBulkSelect:F,refreshData:V,addDangerToast:e,addSuccessToast:o,pageSize:25})})))}))},83379:(e,t,a)=>{function n(e){return e?`${e.first_name} ${e.last_name}`:""}a.d(t,{Z:()=>n})}}]);
//# sourceMappingURL=2650e7e52e385019b5c0.chunk.js.map