"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[1437],{70114:(e,t,a)=>{var n=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(a(140)),o=0,l={};function i(e){var t=o++,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return l[t]=(0,r.default)((function n(){(a-=1)<=0?(e(),delete l[t]):l[t]=(0,r.default)(n)})),t}i.cancel=function(e){void 0!==e&&(r.default.cancel(l[e]),delete l[e])},i.ids=l},19681:(e,t,a)=>{var n=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(17383));t.default=function e(t){return(0,r.default)(this,e),new Error("unreachable case: ".concat(JSON.stringify(t)))}},4823:(e,t,a)=>{var n=a(6305),r=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l=r(a(17383)),i=r(a(34579)),c=r(a(12475)),s=r(a(29511)),u=r(a(81660)),d=n(a(96540)),f=a(57320),p=r(a(70114)),m=a(76421),g=a(70787);function b(e){return!e||null===e.offsetParent||e.hidden}var h=function(e){(0,s.default)(a,e);var t=(0,u.default)(a);function a(){var e;return(0,l.default)(this,a),(e=t.apply(this,arguments)).containerRef=d.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,a){if(!(!t||b(t)||t.className.indexOf("-leave")>=0)){var n=e.props.insertExtraNode;e.extraNode=document.createElement("div");var r=(0,c.default)(e).extraNode,l=e.context.getPrefixCls;r.className="".concat(l(""),"-click-animating-node");var i,s=e.getAttributeName();t.setAttribute(s,"true"),o=o||document.createElement("style"),!a||"#ffffff"===a||"rgb(255, 255, 255)"===a||(i=(a||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/))&&i[1]&&i[2]&&i[3]&&i[1]===i[2]&&i[2]===i[3]||/rgba\((?:\d*, ){3}0\)/.test(a)||"transparent"===a||(e.csp&&e.csp.nonce&&(o.nonce=e.csp.nonce),r.style.borderColor=a,o.innerHTML="\n      [".concat(l(""),"-click-animating-without-extra-node='true']::after, .").concat(l(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(a,";\n      }"),document.body.contains(o)||document.body.appendChild(o)),n&&t.appendChild(r),["transition","animation"].forEach((function(a){t.addEventListener("".concat(a,"start"),e.onTransitionStart),t.addEventListener("".concat(a,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var a=e.containerRef.current;t&&t.target===a&&!e.animationStart&&e.resetEffect(a)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var a=function(a){if("INPUT"!==a.target.tagName&&!b(a.target)){e.resetEffect(t);var n=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,n)}),0),p.default.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=(0,p.default)((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",a,!0),{cancel:function(){t.removeEventListener("click",a,!0)}}}},e.renderWave=function(t){var a=t.csp,n=e.props.children;if(e.csp=a,!d.isValidElement(n))return n;var r=e.containerRef;return(0,f.supportRef)(n)&&(r=(0,f.composeRef)(n.ref,e.containerRef)),(0,g.cloneElement)(n,{ref:r})},e}return(0,i.default)(a,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var a=this.props.insertExtraNode,n=this.getAttributeName();e.setAttribute(n,"false"),o&&(o.innerHTML=""),a&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(a){e.removeEventListener("".concat(a,"start"),t.onTransitionStart),e.removeEventListener("".concat(a,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return d.createElement(m.ConfigConsumer,null,this.renderWave)}}]),a}(d.Component);t.default=h,h.contextType=m.ConfigContext},33729:(e,t,a)=>{var n=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(96540)),o=n(a(90754)),l=n(a(66071)),i=function(){return{width:0,opacity:0,transform:"scale(0)"}},c=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}};t.default=function(e){var t=e.prefixCls,a=!!e.loading;return e.existIcon?r.default.createElement("span",{className:"".concat(t,"-loading-icon")},r.default.createElement(l.default,null)):r.default.createElement(o.default,{visible:a,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:i,onAppearActive:c,onEnterStart:i,onEnterActive:c,onLeaveStart:c,onLeaveActive:i},(function(e,a){var n=e.className,o=e.style;return r.default.createElement("span",{className:"".concat(t,"-loading-icon"),style:o,ref:a},r.default.createElement(l.default,{className:n}))}))}},50205:(e,t,a)=>{var n=a(6305),r=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a(94634)),l=r(a(43693)),i=n(a(96540)),c=r(a(46942)),s=a(76421),u=r(a(19681));t.default=function(e){return i.createElement(s.ConfigConsumer,null,(function(t){var a,n=t.getPrefixCls,r=t.direction,s=e.prefixCls,d=e.size,f=e.className,p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["prefixCls","size","className"]),m=n("btn-group",s),g="";switch(d){case"large":g="lg";break;case"small":g="sm";break;case"middle":case void 0:break;default:console.warn(new u.default(d))}var b=(0,c.default)(m,(a={},(0,l.default)(a,"".concat(m,"-").concat(g),g),(0,l.default)(a,"".concat(m,"-rtl"),"rtl"===r),a),f);return i.createElement("div",(0,o.default)({},p,{className:b}))}))}},89443:(e,t,a)=>{var n=a(6305),r=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.convertLegacyProps=function(e){return"danger"===e?{danger:!0}:{type:e}},t.default=void 0;var o=r(a(94634)),l=r(a(43693)),i=r(a(85715)),c=r(a(73738)),s=n(a(96540)),u=r(a(46942)),d=r(a(42288)),f=r(a(50205)),p=a(76421),m=r(a(4823)),g=a(42154),b=r(a(76859)),h=r(a(78809)),v=r(a(33729)),y=a(70787),k=/^[\u4e00-\u9fa5]{2}$/,E=k.test.bind(k);function A(e){return"text"===e||"link"===e}(0,g.tuple)("default","primary","ghost","dashed","link","text"),(0,g.tuple)("circle","round"),(0,g.tuple)("submit","button","reset");var C=function(e,t){var a,n,r=e.loading,f=void 0!==r&&r,g=e.prefixCls,k=e.type,C=e.danger,w=e.shape,S=e.size,x=e.className,O=e.children,N=e.icon,T=e.ghost,_=void 0!==T&&T,Y=e.block,R=void 0!==Y&&Y,L=e.htmlType,P=void 0===L?"button":L,$=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),z=s.useContext(h.default),W=s.useState(!!f),j=(0,i.default)(W,2),I=j[0],D=j[1],H=s.useState(!1),M=(0,i.default)(H,2),U=M[0],B=M[1],G=s.useContext(p.ConfigContext),F=G.getPrefixCls,V=G.autoInsertSpaceInButton,J=G.direction,q=t||s.createRef(),Q=s.useRef(),X=function(){return 1===s.Children.count(O)&&!N&&!A(k)};n="object"===(0,c.default)(f)&&f.delay?f.delay||!0:!!f,s.useEffect((function(){clearTimeout(Q.current),"number"==typeof n?Q.current=window.setTimeout((function(){D(n)}),n):D(n)}),[n]),s.useEffect((function(){if(q&&q.current&&!1!==V){var e=q.current.textContent;X()&&E(e)?U||B(!0):U&&B(!1)}}),[q]);var K=function(t){var a=e.onClick;I||a&&a(t)};(0,b.default)(!("string"==typeof N&&N.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(N,"` at https://ant.design/components/icon")),(0,b.default)(!(_&&A(k)),"Button","`link` or `text` button can't be a `ghost` button.");var Z=F("btn",g),ee=!1!==V,te="";switch(S||z){case"large":te="lg";break;case"small":te="sm"}var ae=I?"loading":N,ne=(0,u.default)(Z,(a={},(0,l.default)(a,"".concat(Z,"-").concat(k),k),(0,l.default)(a,"".concat(Z,"-").concat(w),w),(0,l.default)(a,"".concat(Z,"-").concat(te),te),(0,l.default)(a,"".concat(Z,"-icon-only"),!O&&0!==O&&ae),(0,l.default)(a,"".concat(Z,"-background-ghost"),_&&!A(k)),(0,l.default)(a,"".concat(Z,"-loading"),I),(0,l.default)(a,"".concat(Z,"-two-chinese-chars"),U&&ee),(0,l.default)(a,"".concat(Z,"-block"),R),(0,l.default)(a,"".concat(Z,"-dangerous"),!!C),(0,l.default)(a,"".concat(Z,"-rtl"),"rtl"===J),a),x),re=N&&!I?N:s.createElement(v.default,{existIcon:!!N,prefixCls:Z,loading:!!I}),oe=O||0===O?function(e,t){var a=!1,n=[];return s.Children.forEach(e,(function(e){var t=(0,c.default)(e),r="string"===t||"number"===t;if(a&&r){var o=n.length-1,l=n[o];n[o]="".concat(l).concat(e)}else n.push(e);a=r})),s.Children.map(n,(function(e){return function(e,t){if(null!=e){var a=t?" ":"";return"string"!=typeof e&&"number"!=typeof e&&"string"==typeof e.type&&E(e.props.children)?(0,y.cloneElement)(e,{children:e.props.children.split("").join(a)}):"string"==typeof e?(E(e)&&(e=e.split("").join(a)),s.createElement("span",null,e)):e}}(e,t)}))}(O,X()&&ee):null,le=(0,d.default)($,["navigate"]);if(void 0!==le.href)return s.createElement("a",(0,o.default)({},le,{className:ne,onClick:K,ref:q}),re,oe);var ie=s.createElement("button",(0,o.default)({},$,{type:P,className:ne,onClick:K,ref:q}),re,oe);return A(k)?ie:s.createElement(m.default,null,ie)},w=s.forwardRef(C);w.displayName="Button",w.Group=f.default,w.__ANT_BUTTON=!0;var S=w;t.default=S},8963:(e,t,a)=>{var n=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(89443)).default;t.default=r},12397:(e,t,a)=>{a.d(t,{U:()=>i}),a(96540);var n=a(19129),r=a(25106),o=a(95579),l=a(17437);const i=({user:e,date:t})=>{const a=(0,l.Y)("span",{className:"no-wrap","data-test":"audit-info-date"},t);if(e){const t=(0,r.A)(e),i=(0,o.t)("Modified by: %s",t);return(0,l.Y)(n.m,{title:i,placement:"bottom"},a)}return a}},83691:(e,t,a)=>{a.d(t,{A:()=>s}),a(96540);var n=a(90017),r=a(19129),o=a(12249),l=a(17437);const i=n.A.span`
  white-space: nowrap;
  min-width: 100px;
  svg,
  i {
    margin-right: 8px;

    &:hover {
      path {
        fill: ${({theme:e})=>e.colors.primary.base};
      }
    }
  }
`,c=n.A.span`
  color: ${({theme:e})=>e.colors.grayscale.base};
`;function s({actions:e}){return(0,l.Y)(i,{className:"actions"},e.map(((e,t)=>{const a=o.A[e.icon];return e.tooltip?(0,l.Y)(r.m,{id:`${e.label}-tooltip`,title:e.tooltip,placement:e.placement,key:t},(0,l.Y)(c,{role:"button",tabIndex:0,className:"action-button","data-test":e.label,onClick:e.onClick},(0,l.Y)(a,null))):(0,l.Y)(c,{role:"button",tabIndex:0,className:"action-button",onClick:e.onClick,"data-test":e.label,key:t},(0,l.Y)(a,null))})))}},88014:(e,t,a)=>{a.d(t,{A:()=>u});var n=a(96453),r=a(95579),o=(a(96540),a(19129)),l=a(12249),i=a(47815),c=a(17437);function s(e,t,a){switch(e){case i.Or.Working:return a.colors.primary.base;case i.Or.Error:return a.colors.error.base;case i.Or.Success:return t?a.colors.success.base:a.colors.alert.base;case i.Or.Noop:return a.colors.success.base;case i.Or.Grace:return a.colors.alert.base;default:return a.colors.grayscale.base}}function u({state:e,isReportEnabled:t=!1}){const a=(0,n.DP)(),u={icon:l.A.Check,label:"",status:""};switch(e){case i.Or.Success:u.icon=t?l.A.Check:l.A.AlertSolidSmall,u.label=t?(0,r.t)("Report sent"):(0,r.t)("Alert triggered, notification sent"),u.status=i.Or.Success;break;case i.Or.Working:u.icon=l.A.Running,u.label=t?(0,r.t)("Report sending"):(0,r.t)("Alert running"),u.status=i.Or.Working;break;case i.Or.Error:u.icon=l.A.XSmall,u.label=t?(0,r.t)("Report failed"):(0,r.t)("Alert failed"),u.status=i.Or.Error;break;case i.Or.Noop:u.icon=l.A.Check,u.label=(0,r.t)("Nothing triggered"),u.status=i.Or.Noop;break;case i.Or.Grace:u.icon=l.A.AlertSolidSmall,u.label=(0,r.t)("Alert Triggered, In Grace Period"),u.status=i.Or.Grace;break;default:u.icon=l.A.Check,u.label=(0,r.t)("Nothing triggered"),u.status=i.Or.Noop}const d=u.icon;return(0,c.Y)(o.m,{title:u.label,placement:"bottomLeft"},(0,c.Y)(d,{iconColor:s(u.status,t,a)}))}},54122:(e,t,a)=>{a.r(t),a.d(t,{default:()=>U});var n=a(96540),r=a(56347),o=a(72391),l=a(95579),i=a(93505),c=a(90017),s=a(35742),u=a(95093),d=a.n(u),f=a(83691),p=a(99748),m=a(19129),g=a(39854),b=a(51713),h=a(75488),v=a(27023),y=a(5261),k=a(88014),E=a(17437),A=a(12249),C=a(47815);const w=e=>E.AH`
  color: ${e.colors.grayscale.light1};
  margin-right: ${2*e.gridUnit}px;
`;function S({type:e}){const t={icon:null,label:""};switch(e){case C.Wz.Email:t.icon=(0,E.Y)(A.A.Email,{css:w}),t.label=C.Wz.Email;break;case C.Wz.Slack:t.icon=(0,E.Y)(A.A.Slack,{css:w}),t.label=C.Wz.Slack;break;default:t.icon=null,t.label=""}return t.icon?(0,E.Y)(m.m,{title:t.label,placement:"bottom"},t.icon):null}var x=a(63358),O=a(37020);d().updateLocale("en",{calendar:{lastDay:"[Yesterday at] LTS",sameDay:"[Today at] LTS",nextDay:"[Tomorrow at] LTS",lastWeek:"[last] dddd [at] LTS",nextWeek:"dddd [at] LTS",sameElse:"L"}});const N=c.A.span`
  color: ${({theme:e})=>e.colors.grayscale.base};
`,T=(0,c.A)(A.A.Refresh)`
  color: ${({theme:e})=>e.colors.primary.base};
  width: auto;
  height: ${({theme:e})=>5*e.gridUnit}px;
  position: relative;
  top: ${({theme:e})=>e.gridUnit}px;
  left: ${({theme:e})=>e.gridUnit}px;
  cursor: pointer;
`,_=({updatedAt:e,update:t})=>{const[a,r]=(0,n.useState)(d()(e));return(0,n.useEffect)((()=>{r((()=>d()(e)));const t=setInterval((()=>{r((()=>d()(e)))}),6e4);return()=>clearInterval(t)}),[e]),(0,E.Y)(N,null,(0,l.t)("Last Updated %s",a.isValid()?a.calendar():"--"),t&&(0,E.Y)(T,{onClick:t}))};var Y=a(50500),R=a(30703),L=a(65256),P=a(19968),$=a(12397),z=a(23193);const W=(0,o.a)(),j={[C.Or.Success]:(0,l.t)("Success"),[C.Or.Working]:(0,l.t)("Working"),[C.Or.Error]:(0,l.t)("Error"),[C.Or.Noop]:(0,l.t)("Not triggered"),[C.Or.Grace]:(0,l.t)("On Grace")},I=(0,i.A)({requestType:"rison",method:"DELETE",endpoint:"/api/v1/report/"}),D=c.A.div`
  width: 100%;
  padding: 0 ${({theme:e})=>4*e.gridUnit}px
    ${({theme:e})=>3*e.gridUnit}px;
  background-color: ${({theme:e})=>e.colors.grayscale.light5};
`,H=c.A.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  > *:first-child {
    margin-right: ${({theme:e})=>e.gridUnit}px;
  }
`,M=W.get("alertsreports.header.icon"),U=(0,y.Ay)((function({addDangerToast:e,isReportEnabled:t=!1,user:a,addSuccessToast:o}){const i=t?(0,l.t)("report"):(0,l.t)("alert"),c=t?(0,l.t)("reports"):(0,l.t)("alerts"),u=t?"Reports":"Alerts",y=(0,n.useMemo)((()=>[{id:"type",operator:g.t.Equals,value:t?"Report":"Alert"}]),[t]),{state:{loading:A,resourceCount:w,resourceCollection:N,bulkSelectEnabled:T,lastFetched:W},hasPerm:U,fetchData:B,setResourceCollection:G,refreshData:F,toggleBulkSelect:V}=(0,Y.RU)("report",(0,l.t)("reports"),e,!0,void 0,y),{updateResource:J}=(0,Y.fn)("report",(0,l.t)("reports"),e),[q,Q]=(0,n.useState)(!1),[X,K]=(0,n.useState)(null),[Z,ee]=(0,n.useState)(null);function te(e){K(e),Q(!0)}const ae=U("can_write"),ne=U("can_write"),re=U("can_write");(0,n.useEffect)((()=>{T&&ne&&V()}),[t]);const oe=[{id:"name",desc:!0}],le=(0,n.useCallback)(((e,t)=>{if(null!=e&&e.id){const a=e.id,n=[...N];G(n.map((a=>(null==a?void 0:a.id)===e.id?{...a,active:t}:a))),J(a,{active:t},!1,!1).then().catch((()=>G(n)))}}),[N,G,J]),ie=(0,n.useMemo)((()=>[{Cell:({row:{original:{last_state:e}}})=>(0,E.Y)(k.A,{state:e,isReportEnabled:t}),accessor:"last_state",size:"xs",disableSortBy:!0},{Cell:({row:{original:{last_eval_dttm:e}}})=>e?d().utc(e).local().format(v.QU):"",accessor:"last_eval_dttm",Header:(0,l.t)("Last run"),size:"lg"},{accessor:"name",Header:(0,l.t)("Name"),size:"xl"},{Header:(0,l.t)("Schedule"),accessor:"crontab_humanized",size:"xl",Cell:({row:{original:{crontab_humanized:e="",timezone:t}}})=>(0,E.Y)(m.m,{title:`${e} (${t})`,placement:"topLeft"},(0,E.Y)("span",null,`${e} (${t})`))},{Cell:({row:{original:{recipients:e}}})=>e.map((e=>(0,E.Y)(S,{key:e.id,type:e.type}))),accessor:"recipients",Header:(0,l.t)("Notification method"),disableSortBy:!0,size:"xl"},{Cell:({row:{original:{owners:e=[]}}})=>(0,E.Y)(p.A,{users:e}),Header:(0,l.t)("Owners"),id:"owners",disableSortBy:!0,size:"xl"},{Cell:({row:{original:{changed_on_delta_humanized:e,changed_by:t}}})=>(0,E.Y)($.U,{date:e,user:t}),Header:(0,l.t)("Last modified"),accessor:"changed_on_delta_humanized",size:"xl"},{Cell:({row:{original:e}})=>{const t=e.owners.map((e=>e.id)).includes(a.userId)||(0,L.N6)(a);return(0,E.Y)(h.d,{disabled:!t,"data-test":"toggle-active",checked:e.active,onClick:t=>le(e,t),size:"small"})},Header:(0,l.t)("Active"),accessor:"active",id:"active",size:"xl"},{Cell:({row:{original:e}})=>{const t=(0,r.W6)(),n=e.owners.map((e=>e.id)).includes(a.userId)||(0,L.N6)(a),o=[ae?{label:"execution-log-action",tooltip:(0,l.t)("Execution log"),placement:"bottom",icon:"Note",onClick:()=>t.push(`/${e.type.toLowerCase()}/${e.id}/log`)}:null,ae?{label:n?"edit-action":"preview-action",tooltip:n?(0,l.t)("Edit"):(0,l.t)("View"),placement:"bottom",icon:n?"Edit":"Binoculars",onClick:()=>te(e)}:null,n&&ne?{label:"delete-action",tooltip:(0,l.t)("Delete"),placement:"bottom",icon:"Trash",onClick:()=>ee(e)}:null].filter((e=>null!==e));return(0,E.Y)(f.A,{actions:o})},Header:(0,l.t)("Actions"),id:"actions",hidden:!ae&&!ne,disableSortBy:!0,size:"xl"},{accessor:z.H.ChangedBy,hidden:!0}]),[ne,ae,t,le]),ce=[];re&&ce.push({name:(0,E.Y)(n.Fragment,null,(0,E.Y)("i",{className:"fa fa-plus"})," ",i),buttonStyle:"primary",onClick:()=>{te(null)}}),ne&&ce.push({name:(0,l.t)("Bulk select"),onClick:V,buttonStyle:"secondary","data-test":"bulk-select-toggle"});const se={title:(0,l.t)("No %s yet",c),image:"filter-results.svg",buttonAction:()=>te(null),buttonText:re?(0,E.Y)(n.Fragment,null,(0,E.Y)("i",{className:"fa fa-plus"})," ",i," "):null},ue=(0,n.useMemo)((()=>[{Header:(0,l.t)("Name"),key:"search",id:"name",input:"search",operator:g.t.Contains},{Header:(0,l.t)("Owner"),key:"owner",id:"owners",input:"select",operator:g.t.RelationManyMany,unfilteredLabel:(0,l.t)("All"),fetchSelects:(0,R.u1)("report","owners",(0,R.JF)((e=>(0,l.t)("An error occurred while fetching owners values: %s",e))),a),paginate:!0},{Header:(0,l.t)("Status"),key:"status",id:"last_state",input:"select",operator:g.t.Equals,unfilteredLabel:"Any",selects:[{label:j[C.Or.Success],value:C.Or.Success},{label:j[C.Or.Working],value:C.Or.Working},{label:j[C.Or.Error],value:C.Or.Error},{label:j[C.Or.Noop],value:C.Or.Noop},{label:j[C.Or.Grace],value:C.Or.Grace}]},{Header:(0,l.t)("Modified by"),key:"changed_by",id:"changed_by",input:"select",operator:g.t.RelationOneMany,unfilteredLabel:(0,l.t)("All"),fetchSelects:(0,R.u1)("report","changed_by",(0,R.JF)((e=>(0,l.t)("An error occurred while fetching dataset datasource values: %s",e))),a),paginate:!0}]),[]),de=M?(0,E.Y)(H,null,(0,E.Y)("div",null,(0,l.t)("Alerts & reports")),(0,E.Y)(M,null)):(0,l.t)("Alerts & reports");return(0,E.Y)(n.Fragment,null,(0,E.Y)(b.A,{activeChild:u,name:de,tabs:[{name:"Alerts",label:(0,l.t)("Alerts"),url:"/alert/list/",usesRouter:!0,"data-test":"alert-list"},{name:"Reports",label:(0,l.t)("Reports"),url:"/report/list/",usesRouter:!0,"data-test":"report-list"}],buttons:ce},(0,E.Y)(D,null,(0,E.Y)(_,{updatedAt:W,update:()=>F()}))),(0,E.Y)(P.Ay,{alert:X,addDangerToast:e,layer:X,onHide:()=>{Q(!1),K(null),F()},show:q,isReport:t,key:(null==X?void 0:X.id)||`${(new Date).getTime()}`}),Z&&(0,E.Y)(O.A,{description:(0,l.t)("This action will permanently delete %s.",Z.name),onConfirm:()=>{Z&&(({id:t,name:a})=>{s.A.delete({endpoint:`/api/v1/report/${t}`}).then((()=>{F(),ee(null),o((0,l.t)("Deleted: %s",a))}),(0,R.JF)((t=>e((0,l.t)("There was an issue deleting %s: %s",a,t)))))})(Z)},onHide:()=>ee(null),open:!0,title:(0,l.t)("Delete %s?",i)}),(0,E.Y)(x.A,{title:(0,l.t)("Please confirm"),description:(0,l.t)("Are you sure you want to delete the selected %s?",c),onConfirm:async t=>{try{const{message:e}=await I(t.map((({id:e})=>e)));F(),o(e)}catch(t){(0,R.JF)((t=>e((0,l.t)("There was an issue deleting the selected %s: %s",c,t))))(t)}}},(t=>{const a=ne?[{key:"delete",name:(0,l.t)("Delete"),onSelect:t,type:"danger"}]:[];return(0,E.Y)(g.A,{className:"alerts-list-view",columns:ie,count:w,data:N,emptyState:se,fetchData:B,filters:ue,initialSort:oe,loading:A,bulkActions:a,bulkSelectEnabled:T,disableBulkSelect:V,refreshData:F,addDangerToast:e,addSuccessToast:o,pageSize:25})})))}))},25106:(e,t,a)=>{function n(e){return e?`${e.first_name} ${e.last_name}`:""}a.d(t,{A:()=>n})}}]);
//# sourceMappingURL=e2aefcadcbcd77149e6b.chunk.js.map