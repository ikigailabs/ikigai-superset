"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[6861],{94465:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(82692),r=n(94387),o=n(73091);function l(e,t=!1){const n=t?a.DC:a.aL,l=n("%Y-%m-%d %H:%M:%S.%L"),i=n("%Y-%m-%d %H:%M:%S"),s=n("%Y-%m-%d %H:%M"),u=n("%Y-%m-%d %H:%M"),c=n("%Y-%m-%d"),f=n("%Y-%m-%d"),p=n("%Y"),{hasMillisecond:d,hasSecond:m,hasMinute:h,hasHour:S,isNotFirstDayOfMonth:g,isNotFirstMonth:v}=t?r.m:r.w;let y=p;return e.forEach((e=>{y===p&&v(e)&&(y=f),y===f&&g(e)&&(y=c),y===c&&S(e)&&(y=u),y===u&&h(e)&&(y=s),y===s&&m(e)&&(y=i),y===i&&d(e)&&(y=l)})),new o.A({description:"Use the finest grain in an array of dates to format all dates in the array",formatFunc:y,id:"finest_temporal_grain",label:"Format temporal columns with the finest grain",useLocalTime:t})}},86523:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(77925);const r=(0,n(90017).A)(a.A.Item)`
  ${({theme:e})=>`\n    .ant-form-item-label {\n      padding-bottom: ${e.gridUnit}px;\n      & > label {\n        text-transform: uppercase;\n        font-size: ${e.typography.sizes.s}px;\n        color: ${e.colors.grayscale.base};\n\n        &.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n          &::before {\n            display: none;\n          }\n          &::after {\n            display: inline-block;\n            color: ${e.colors.error.base};\n            font-size: ${e.typography.sizes.s}px;\n            content: '*';\n          }\n        }\n      }\n    }\n  `}
`},2511:(e,t,n)=>{var a,r;n.d(t,{A:()=>a,v:()=>r}),function(e){e.Simple="SIMPLE",e.Sql="SQL"}(a||(a={})),function(e){e.Having="HAVING",e.Where="WHERE"}(r||(r={}))},66861:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var a=n(38221),r=n.n(a),o=n(96540),l=n(62952),i=n(86444),s=n(94465),u=n(95579),c=n(58863),f=n(64687),p=n(15595),d=n(27023),m=n(3175),h=n(10504),S=n(67874),g=n(5815),v=n(17437);function y(e,t){switch(t.type){case"ownState":return e.ownState={...e.ownState,...t.ownState},e;case"filterState":return JSON.stringify(e.extraFormData)!==JSON.stringify(t.extraFormData)&&(e.extraFormData=t.extraFormData),JSON.stringify(e.filterState)!==JSON.stringify(t.filterState)&&(e.filterState={...e.filterState,...t.filterState}),e;default:return e}}function b(e){const{coltypeMap:t,data:n,filterState:a,formData:b,height:w,isRefreshing:M,width:F,setDataMask:A,setHoveredFilter:C,unsetHoveredFilter:N,setFocusedFilter:O,unsetFocusedFilter:x,setFilterActive:$,appSection:k,showOverflow:H,parentRef:Y,inputRef:D,filterBarOrientation:J}=e,{enableEmptyFilter:q,multiSelect:E,showSearch:L,inverseSelection:I,defaultToFirstItem:T,searchAllOptions:z}=b,j=(0,o.useMemo)((()=>(0,l.A)(b.groupby).map(i.A)),[b.groupby]),[R]=j,[P]=(0,o.useState)(t),[U,B]=(0,o.useState)(""),[Q,W]=(0,f.A)(y,{extraFormData:{},filterState:a}),_=t[R],V=(0,o.useMemo)((()=>(0,g.Sg)({timeFormatter:(0,s.A)(n.map((e=>e[R])))})),[n,R]),G=(0,o.useCallback)((e=>{const t=q&&!I&&!(null!=e&&e.length),n=I&&null!=e&&e.length?(0,u.t)(" (excluded)"):"";W({type:"filterState",extraFormData:(0,g.pA)(R,e,t,I),filterState:{...a,label:null!=e&&e.length?`${(e||[]).map((e=>V(e,_))).join(", ")}${n}`:void 0,value:k===c.$s.FilterConfigModal&&T?void 0:e}})}),[k,R,_,T,W,q,I,JSON.stringify(a),V]),K=k===c.$s.FilterConfigModal&&T,X=(0,o.useMemo)((()=>r()((e=>{B(e),z&&W({type:"ownState",ownState:{coltypeMap:P,search:e}})}),d.Qs)),[W,P,z]),Z=(0,o.useCallback)((()=>{x(),X("")}),[X,x]),ee=(0,o.useCallback)((e=>{const t=null===e?[null]:(0,l.A)(e);0===t.length?G(null):G(t)}),[G]),te=0===n.length?(0,u.t)("No data"):(0,u.tn)("%s option","%s options",n.length,n.length),ne=(0,o.useMemo)((()=>{if(a.validateMessage)return(0,v.Y)(S.Mo,{status:a.validateStatus},a.validateMessage)}),[a.validateMessage,a.validateStatus]),ae=(0,o.useMemo)((()=>[...new Set([...n.map((e=>e[R]))])].map((e=>({label:V(e,_),value:e,isNewOption:!1})))),[n,_,R,V]),re=(0,o.useMemo)((()=>(!U||E||(0,m.Kz)(U,ae,!0)||ae.unshift({label:U,value:U,isNewOption:!0}),ae)),[E,U,ae]),oe=(0,o.useCallback)(((e,t)=>{const n=(0,m.qw)("label");return b.sortAscending?n(e,t):n(t,e)}),[b.sortAscending]);return(0,o.useEffect)((()=>{if(T&&void 0===a.value){const e=n[0]?j.map((e=>n[0][e])):null;void 0!==(null==e?void 0:e[0])&&G(e)}else G(K?null:a.value)}),[R,K,T,q,I,G,n,j,JSON.stringify(a.value)]),(0,o.useEffect)((()=>{A(Q)}),[JSON.stringify(Q)]),(0,v.Y)(S.j3,{height:w,width:F},(0,v.Y)(S.JF,{validateStatus:a.validateStatus,extra:ne},(0,v.Y)(p.l6,{allowClear:!0,allowNewOptions:!z,allowSelectAll:!z,value:a.value||[],disabled:K,getPopupContainer:H?()=>(null==Y?void 0:Y.current)||document.body:e=>(null==e?void 0:e.parentNode)||document.body,showSearch:L,mode:E?"multiple":"single",placeholder:te,onClear:()=>X(""),onSearch:X,onBlur:Z,onFocus:O,onMouseEnter:C,onMouseLeave:N,onChange:ee,ref:D,loading:M,oneLine:J===h.QI.Horizontal,invertSelection:I,options:re,sortComparator:oe,onDropdownVisibleChange:$})))}},67874:(e,t,n)=>{n.d(t,{JF:()=>i,Mo:()=>s,YH:()=>o,j3:()=>l});var a=n(90017),r=n(86523);const o=0,l=a.A.div`
  min-height: ${({height:e})=>e}px;
  width: ${({width:e})=>e===o?"100%":`${e}px`};
`,i=(0,a.A)(r.A)`
  &.ant-row.ant-form-item {
    margin: 0;
  }
`,s=a.A.div`
  color: ${({theme:e,status:t="error"})=>{var n;return null==(n=e.colors[t])?void 0:n.base}};
`},5815:(e,t,n)=>{n.d(t,{SO:()=>i,Sg:()=>s,pA:()=>l});var a=n(87903),r=n(15151),o=n(2511);const l=(e,t,n=!1,a=!1)=>{const r={};return n?r.adhoc_filters=[{expressionType:o.A.Sql,clause:o.v.Where,sqlExpression:"1 = 0"}]:null!=t&&0!==t.length&&(r.filters=[{col:e,op:a?"NOT IN":"IN",val:t}]),r},i=(e,t,n)=>{const a=[];return null!=t&&t!==n&&a.push({col:e,op:">=",val:t}),null!=n&&n!==t&&a.push({col:e,op:"<=",val:n}),null!=n&&null!=t&&n===t&&a.push({col:e,op:"==",val:n}),a.length?{filters:a}:{}};function s({timeFormatter:e,numberFormatter:t}={}){return(n,o)=>{if(null==n)return r.mu;if("boolean"==typeof n)return n?r.PU:r.qC;if(o===a.s.Boolean)try{return JSON.parse(String(n).toLowerCase())?r.PU:r.qC}catch{return r.qC}return"string"==typeof n?n:e&&o===a.s.Temporal?e(n):t&&"number"==typeof n&&o===a.s.Numeric?t(n):String(n)}}},64687:(e,t,n)=>{n.d(t,{A:()=>l,e:()=>o});var a=n(16535),r=n(96540);function o(e){var t=(0,r.useState)((function(){return(0,a.CN)("function"==typeof e?e():e,!0)})),n=t[1];return[t[0],(0,r.useCallback)((function(e){n("function"==typeof e?(0,a.jM)(e):(0,a.CN)(e))}),[])]}function l(e,t,n){var o=(0,r.useMemo)((function(){return(0,a.jM)(e)}),[e]);return(0,r.useReducer)(o,t,n)}}}]);
//# sourceMappingURL=ab327ca8f05c6918cb99.chunk.js.map