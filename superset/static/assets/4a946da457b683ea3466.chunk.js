"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[3191],{88014:(e,t,r)=>{r.d(t,{A:()=>u});var a=r(96453),o=r(95579),s=(r(96540),r(19129)),l=r(12249),n=r(47815),c=r(17437);function i(e,t,r){switch(e){case n.Or.Working:return r.colors.primary.base;case n.Or.Error:return r.colors.error.base;case n.Or.Success:return t?r.colors.success.base:r.colors.alert.base;case n.Or.Noop:return r.colors.success.base;case n.Or.Grace:return r.colors.alert.base;default:return r.colors.grayscale.base}}function u({state:e,isReportEnabled:t=!1}){const r=(0,a.DP)(),u={icon:l.A.Check,label:"",status:""};switch(e){case n.Or.Success:u.icon=t?l.A.Check:l.A.AlertSolidSmall,u.label=t?(0,o.t)("Report sent"):(0,o.t)("Alert triggered, notification sent"),u.status=n.Or.Success;break;case n.Or.Working:u.icon=l.A.Running,u.label=t?(0,o.t)("Report sending"):(0,o.t)("Alert running"),u.status=n.Or.Working;break;case n.Or.Error:u.icon=l.A.XSmall,u.label=t?(0,o.t)("Report failed"):(0,o.t)("Alert failed"),u.status=n.Or.Error;break;case n.Or.Noop:u.icon=l.A.Check,u.label=(0,o.t)("Nothing triggered"),u.status=n.Or.Noop;break;case n.Or.Grace:u.icon=l.A.AlertSolidSmall,u.label=(0,o.t)("Alert Triggered, In Grace Period"),u.status=n.Or.Grace;break;default:u.icon=l.A.Check,u.label=(0,o.t)("Nothing triggered"),u.status=n.Or.Noop}const d=u.icon;return(0,c.Y)(s.m,{title:u.label,placement:"bottomLeft"},(0,c.Y)(d,{iconColor:i(u.status,t,r)}))}},47815:(e,t,r)=>{var a,o,s;r.d(t,{Or:()=>a,Wz:()=>o,Z_:()=>s}),function(e){e.Success="Success",e.Working="Working",e.Error="Error",e.Noop="Not triggered",e.Grace="On Grace"}(a||(a={})),function(e){e.Email="Email",e.Slack="Slack"}(o||(o={})),function(e){e.General="generalSection",e.Content="contentSection",e.Alert="alertConditionSection",e.Schedule="scheduleSection",e.Notification="notificationSection"}(s||(s={}))},63297:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});var a=r(90017),o=r(17437),s=r(95579),l=r(95093),n=r.n(l),c=r(96540),i=r(56347),u=r(54625),d=r(39854),g=r(19129),m=r(51713),p=r(5261),b=r(49501),h=r(88014),f=r(50500);const S=a.A.div`
  ${({theme:e})=>o.AH`
    display: flex;
    flex-direction: row;

    a,
    Link {
      margin-left: ${4*e.gridUnit}px;
      font-size: ${e.typography.sizes.s};
      font-weight: ${e.typography.weights.normal};
      text-decoration: underline;
    }
  `}
`,A=(0,p.Ay)((function({addDangerToast:e,addSuccessToast:t,isReportEnabled:r}){const{alertId:a}=(0,i.g)(),{state:{loading:l,resourceCount:p,resourceCollection:A},fetchData:k}=(0,f.RU)(`report/${a}/log`,(0,s.t)("log"),e,!1),{state:{loading:Y,resource:C},fetchResource:w}=(0,f.fn)("report",(0,s.t)("reports"),e);(0,c.useEffect)((()=>{null===a||Y||w(a)}),[a]);const O=(0,c.useMemo)((()=>[{Cell:({row:{original:{state:e}}})=>(0,o.Y)(h.A,{state:e,isReportEnabled:r}),accessor:"state",Header:(0,s.t)("State"),size:"xs",disableSortBy:!0},{Cell:({row:{original:{uuid:e}}})=>e?e.slice(0,6):"none",accessor:"uuid",Header:(0,s.t)("Execution ID"),size:"xs",disableSortBy:!0},{Cell:({row:{original:{scheduled_dttm:e}}})=>n()(new Date(e)).format("YYYY-MM-DD hh:mm:ss a"),accessor:"scheduled_dttm",Header:(0,s.t)("Scheduled at (UTC)")},{Cell:({row:{original:{start_dttm:e}}})=>n()(new Date(e)).format("YYYY-MM-DD hh:mm:ss a"),Header:(0,s.t)("Start at (UTC)"),accessor:"start_dttm"},{Cell:({row:{original:{start_dttm:e,end_dttm:t}}})=>(0,b.RW)(new Date(e).getTime(),new Date(t).getTime()),Header:(0,s.t)("Duration"),disableSortBy:!0},{accessor:"value",Header:(0,s.t)("Value")},{accessor:"error_message",Header:(0,s.t)("Error message"),Cell:({row:{original:{error_message:e=""}}})=>(0,o.Y)(g.m,{title:e,placement:"topLeft"},(0,o.Y)("span",null,e))}]),[r]),D=`/${r?"report":"alert"}/list/`,y=(0,s.t)("Alert"),E=(0,s.t)("Report");return(0,o.Y)(c.Fragment,null,(0,o.Y)(m.A,{name:(0,o.Y)(S,null,(0,o.Y)("span",null,C?"Alert"===C.type?`${y}:`:"Report"===C.type?`${E}:`:null:null," ",null==C?void 0:C.name),(0,o.Y)("span",null,(0,o.Y)(u.N_,{to:D},(0,s.t)("Back to all"))))}),(0,o.Y)(d.A,{className:"execution-log-list-view",columns:O,count:p,data:A,fetchData:k,initialSort:[{id:"start_dttm",desc:!0}],loading:l,addDangerToast:e,addSuccessToast:t,refreshData:()=>{},pageSize:25}))}))}}]);
//# sourceMappingURL=4a946da457b683ea3466.chunk.js.map