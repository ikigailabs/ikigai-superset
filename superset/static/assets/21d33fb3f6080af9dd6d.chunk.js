"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[4169],{70114:(e,t,a)=>{var n=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(a(140)),o=0,l={};function i(e){var t=o++,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return l[t]=(0,r.default)((function n(){(a-=1)<=0?(e(),delete l[t]):l[t]=(0,r.default)(n)})),t}i.cancel=function(e){void 0!==e&&(r.default.cancel(l[e]),delete l[e])},i.ids=l},4823:(e,t,a)=>{var n=a(6305),r=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l=r(a(17383)),i=r(a(34579)),s=r(a(12475)),d=r(a(29511)),c=r(a(81660)),u=n(a(96540)),p=a(57320),m=r(a(70114)),h=a(76421),f=a(70787);function g(e){return!e||null===e.offsetParent||e.hidden}var b=function(e){(0,d.default)(a,e);var t=(0,c.default)(a);function a(){var e;return(0,l.default)(this,a),(e=t.apply(this,arguments)).containerRef=u.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,a){if(!(!t||g(t)||t.className.indexOf("-leave")>=0)){var n=e.props.insertExtraNode;e.extraNode=document.createElement("div");var r=(0,s.default)(e).extraNode,l=e.context.getPrefixCls;r.className="".concat(l(""),"-click-animating-node");var i,d=e.getAttributeName();t.setAttribute(d,"true"),o=o||document.createElement("style"),!a||"#ffffff"===a||"rgb(255, 255, 255)"===a||(i=(a||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/))&&i[1]&&i[2]&&i[3]&&i[1]===i[2]&&i[2]===i[3]||/rgba\((?:\d*, ){3}0\)/.test(a)||"transparent"===a||(e.csp&&e.csp.nonce&&(o.nonce=e.csp.nonce),r.style.borderColor=a,o.innerHTML="\n      [".concat(l(""),"-click-animating-without-extra-node='true']::after, .").concat(l(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(a,";\n      }"),document.body.contains(o)||document.body.appendChild(o)),n&&t.appendChild(r),["transition","animation"].forEach((function(a){t.addEventListener("".concat(a,"start"),e.onTransitionStart),t.addEventListener("".concat(a,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var a=e.containerRef.current;t&&t.target===a&&!e.animationStart&&e.resetEffect(a)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var a=function(a){if("INPUT"!==a.target.tagName&&!g(a.target)){e.resetEffect(t);var n=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,n)}),0),m.default.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=(0,m.default)((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",a,!0),{cancel:function(){t.removeEventListener("click",a,!0)}}}},e.renderWave=function(t){var a=t.csp,n=e.props.children;if(e.csp=a,!u.isValidElement(n))return n;var r=e.containerRef;return(0,p.supportRef)(n)&&(r=(0,p.composeRef)(n.ref,e.containerRef)),(0,f.cloneElement)(n,{ref:r})},e}return(0,i.default)(a,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var a=this.props.insertExtraNode,n=this.getAttributeName();e.setAttribute(n,"false"),o&&(o.innerHTML=""),a&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(a){e.removeEventListener("".concat(a,"start"),t.onTransitionStart),e.removeEventListener("".concat(a,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return u.createElement(h.ConfigConsumer,null,this.renderWave)}}]),a}(u.Component);t.default=b,b.contextType=h.ConfigContext},26613:(e,t,a)=>{var n=a(6305),r=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a(94634)),l=r(a(43693)),i=n(a(96540)),s=r(a(46942)),d=a(76421);t.default=function(e){var t,a=e.prefixCls,n=e.className,r=e.checked,c=e.onChange,u=e.onClick,p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["prefixCls","className","checked","onChange","onClick"]),m=(0,i.useContext(d.ConfigContext).getPrefixCls)("tag",a),h=(0,s.default)(m,(t={},(0,l.default)(t,"".concat(m,"-checkable"),!0),(0,l.default)(t,"".concat(m,"-checkable-checked"),r),t),n);return i.createElement("span",(0,o.default)({},p,{className:h,onClick:function(e){c&&c(!r),u&&u(e)}}))}},48149:(e,t,a)=>{var n=a(6305),r=a(24994);t.A=void 0;var o=r(a(43693)),l=r(a(94634)),i=r(a(85715)),s=n(a(96540)),d=r(a(46942)),c=r(a(42288)),u=r(a(74415)),p=r(a(26613)),m=a(76421),h=a(31334),f=r(a(4823)),g=new RegExp("^(".concat(h.PresetColorTypes.join("|"),")(-inverse)?$")),b=new RegExp("^(".concat(h.PresetStatusColorTypes.join("|"),")$")),y=function(e,t){var a,n=e.prefixCls,r=e.className,p=e.style,h=e.children,y=e.icon,v=e.color,w=e.onClose,S=e.closeIcon,_=e.closable,x=void 0!==_&&_,k=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),Y=s.useContext(m.ConfigContext),C=Y.getPrefixCls,T=Y.direction,A=s.useState(!0),E=(0,i.default)(A,2),N=E[0],P=E[1];s.useEffect((function(){"visible"in k&&P(k.visible)}),[k.visible]);var O=function(){return!!v&&(g.test(v)||b.test(v))},$=(0,l.default)({backgroundColor:v&&!O()?v:void 0},p),F=O(),I=C("tag",n),D=(0,d.default)(I,(a={},(0,o.default)(a,"".concat(I,"-").concat(v),F),(0,o.default)(a,"".concat(I,"-has-color"),v&&!F),(0,o.default)(a,"".concat(I,"-hidden"),!N),(0,o.default)(a,"".concat(I,"-rtl"),"rtl"===T),a),r),H=function(e){e.stopPropagation(),w&&w(e),e.defaultPrevented||"visible"in k||P(!1)},R="onClick"in k||h&&"a"===h.type,M=(0,c.default)(k,["visible"]),U=y||null,L=U?s.createElement(s.Fragment,null,U,s.createElement("span",null,h)):h,z=s.createElement("span",(0,l.default)({},M,{ref:t,className:D,style:$}),L,x?S?s.createElement("span",{className:"".concat(I,"-close-icon"),onClick:H},S):s.createElement(u.default,{className:"".concat(I,"-close-icon"),onClick:H}):null);return R?s.createElement(f.default,null,z):z},v=s.forwardRef(y);v.displayName="Tag",v.CheckableTag=p.default;var w=v;t.A=w},12397:(e,t,a)=>{a.d(t,{U:()=>i}),a(96540);var n=a(19129),r=a(25106),o=a(95579),l=a(17437);const i=({user:e,date:t})=>{const a=(0,l.Y)("span",{className:"no-wrap","data-test":"audit-info-date"},t);if(e){const t=(0,r.A)(e),i=(0,o.t)("Modified by: %s",t);return(0,l.Y)(n.m,{title:i,placement:"bottom"},a)}return a}},31383:(e,t,a)=>{a.d(t,{A:()=>c});var n=a(96540),r=a(95579),o=a(50500),l=a(25946),i=a(17437);const s=(0,o.xK)(),d=s?s.support:"https://superset.apache.org/docs/databases/installing-database-drivers",c=({errorMessage:e,showDbInstallInstructions:t})=>(0,i.Y)(l.A,{closable:!1,css:e=>(e=>i.AH`
  border: 1px solid ${e.colors.warning.light1};
  padding: ${4*e.gridUnit}px;
  margin: ${4*e.gridUnit}px 0;
  color: ${e.colors.warning.dark2};

  .ant-alert-message {
    margin: 0;
  }

  .ant-alert-description {
    font-size: ${e.typography.sizes.s+1}px;
    line-height: ${4*e.gridUnit}px;

    .ant-alert-icon {
      margin-right: ${2.5*e.gridUnit}px;
      font-size: ${e.typography.sizes.l+1}px;
      position: relative;
      top: ${e.gridUnit/4}px;
    }
  }
`)(e),type:"error",showIcon:!0,message:e,description:t?(0,i.Y)(n.Fragment,null,(0,i.Y)("br",null),(0,r.t)("Database driver for importing maybe not installed. Visit the Superset documentation page for installation instructions: "),(0,i.Y)("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"additional-fields-alert-description"},(0,r.t)("here")),"."):""})},74354:(e,t,a)=>{a.d(t,{A:()=>h});var n=a(96540),r=a(90017),o=a(95579),l=a(46920),i=a(85861),s=a(15595),d=a(50500),c=a(31383),u=a(17437);const p=r.A.div`
  display: block;
  color: ${({theme:e})=>e.colors.grayscale.base};
  font-size: ${({theme:e})=>e.typography.sizes.s}px;
`,m=r.A.div`
  padding-bottom: ${({theme:e})=>2*e.gridUnit}px;
  padding-top: ${({theme:e})=>2*e.gridUnit}px;

  & > div {
    margin: ${({theme:e})=>e.gridUnit}px 0;
  }

  &.extra-container {
    padding-top: 8px;
  }

  .confirm-overwrite {
    margin-bottom: ${({theme:e})=>2*e.gridUnit}px;
  }

  .input-container {
    display: flex;
    align-items: center;

    label {
      display: flex;
      margin-right: ${({theme:e})=>2*e.gridUnit}px;
    }

    i {
      margin: 0 ${({theme:e})=>e.gridUnit}px;
    }
  }

  input,
  textarea {
    flex: 1 1 auto;
  }

  textarea {
    height: 160px;
    resize: none;
  }

  input::placeholder,
  textarea::placeholder {
    color: ${({theme:e})=>e.colors.grayscale.light1};
  }

  textarea,
  input[type='text'],
  input[type='number'] {
    padding: ${({theme:e})=>1.5*e.gridUnit}px
      ${({theme:e})=>2*e.gridUnit}px;
    border-style: none;
    border: 1px solid ${({theme:e})=>e.colors.grayscale.light2};
    border-radius: ${({theme:e})=>e.gridUnit}px;

    &[name='name'] {
      flex: 0 1 auto;
      width: 40%;
    }

    &[name='sqlalchemy_uri'] {
      margin-right: ${({theme:e})=>3*e.gridUnit}px;
    }
  }
`,h=({resourceName:e,resourceLabel:t,passwordsNeededMessage:a,confirmOverwriteMessage:r,onModelImport:h,show:f,onHide:g,passwordFields:b=[],setPasswordFields:y=(()=>{}),sshTunnelPasswordFields:v=[],setSSHTunnelPasswordFields:w=(()=>{}),sshTunnelPrivateKeyFields:S=[],setSSHTunnelPrivateKeyFields:_=(()=>{}),sshTunnelPrivateKeyPasswordFields:x=[],setSSHTunnelPrivateKeyPasswordFields:k=(()=>{})})=>{const[Y,C]=(0,n.useState)(!0),[T,A]=(0,n.useState)({}),[E,N]=(0,n.useState)(!1),[P,O]=(0,n.useState)(!1),[$,F]=(0,n.useState)([]),[I,D]=(0,n.useState)(!1),[H,R]=(0,n.useState)(),[M,U]=(0,n.useState)({}),[L,z]=(0,n.useState)({}),[j,B]=(0,n.useState)({}),K=()=>{F([]),y([]),A({}),N(!1),O(!1),D(!1),R(""),w([]),_([]),k([]),U({}),z({}),B({})},{state:{alreadyExists:V,passwordsNeeded:W,sshPasswordNeeded:q,sshPrivateKeyNeeded:G,sshPrivateKeyPasswordNeeded:J},importResource:X}=(0,d.bN)(e,t,(e=>{R(e)}));(0,n.useEffect)((()=>{y(W),W.length>0&&D(!1)}),[W,y]),(0,n.useEffect)((()=>{N(V.length>0),V.length>0&&D(!1)}),[V,N]),(0,n.useEffect)((()=>{w(q),q.length>0&&D(!1)}),[q,w]),(0,n.useEffect)((()=>{_(G),G.length>0&&D(!1)}),[G,_]),(0,n.useEffect)((()=>{k(J),J.length>0&&D(!1)}),[J,k]);return Y&&f&&C(!1),(0,u.Y)(i.A,{name:"model",className:"import-model-modal",disablePrimaryButton:0===$.length||E&&!P||I,onHandledPrimaryAction:()=>{var e;(null==(e=$[0])?void 0:e.originFileObj)instanceof File&&(D(!0),X($[0].originFileObj,T,M,L,j,P).then((e=>{e&&(K(),h())})))},onHide:()=>{C(!0),g(),K()},primaryButtonName:E?(0,o.t)("Overwrite"):(0,o.t)("Import"),primaryButtonType:E?"danger":"primary",width:"750px",show:f,title:(0,u.Y)("h4",null,(0,o.t)("Import %s",t))},(0,u.Y)(m,null,(0,u.Y)(s._O,{name:"modelFile",id:"modelFile","data-test":"model-file-input",accept:".yaml,.json,.yml,.zip",fileList:$,onChange:e=>{F([{...e.file,status:"done"}])},onRemove:e=>(F($.filter((t=>t.uid!==e.uid))),!1),customRequest:()=>{},disabled:I},(0,u.Y)(l.A,{loading:I},(0,o.t)("Select file")))),H&&(0,u.Y)(c.A,{errorMessage:H,showDbInstallInstructions:b.length>0||v.length>0||S.length>0||x.length>0}),(()=>{if(0===b.length&&0===v.length&&0===S.length&&0===x.length)return null;const e=[...new Set([...b,...v,...S,...x])];return(0,u.Y)(n.Fragment,null,(0,u.Y)("h5",null,(0,o.t)("Database passwords")),(0,u.Y)(p,null,a),e.map((e=>(0,u.Y)(n.Fragment,null,(null==b?void 0:b.indexOf(e))>=0&&(0,u.Y)(m,{key:`password-for-${e}`},(0,u.Y)("div",{className:"control-label"},(0,o.t)("%s PASSWORD",e.slice(10)),(0,u.Y)("span",{className:"required"},"*")),(0,u.Y)("input",{name:`password-${e}`,autoComplete:`password-${e}`,type:"password",value:T[e],onChange:t=>A({...T,[e]:t.target.value})})),(null==v?void 0:v.indexOf(e))>=0&&(0,u.Y)(m,{key:`ssh_tunnel_password-for-${e}`},(0,u.Y)("div",{className:"control-label"},(0,o.t)("%s SSH TUNNEL PASSWORD",e.slice(10)),(0,u.Y)("span",{className:"required"},"*")),(0,u.Y)("input",{name:`ssh_tunnel_password-${e}`,autoComplete:`ssh_tunnel_password-${e}`,type:"password",value:M[e],onChange:t=>U({...M,[e]:t.target.value}),"data-test":"ssh_tunnel_password"})),(null==S?void 0:S.indexOf(e))>=0&&(0,u.Y)(m,{key:`ssh_tunnel_private_key-for-${e}`},(0,u.Y)("div",{className:"control-label"},(0,o.t)("%s SSH TUNNEL PRIVATE KEY",e.slice(10)),(0,u.Y)("span",{className:"required"},"*")),(0,u.Y)("textarea",{name:`ssh_tunnel_private_key-${e}`,autoComplete:`ssh_tunnel_private_key-${e}`,value:L[e],onChange:t=>z({...L,[e]:t.target.value}),"data-test":"ssh_tunnel_private_key"})),(null==x?void 0:x.indexOf(e))>=0&&(0,u.Y)(m,{key:`ssh_tunnel_private_key_password-for-${e}`},(0,u.Y)("div",{className:"control-label"},(0,o.t)("%s SSH TUNNEL PRIVATE KEY PASSWORD",e.slice(10)),(0,u.Y)("span",{className:"required"},"*")),(0,u.Y)("input",{name:`ssh_tunnel_private_key_password-${e}`,autoComplete:`ssh_tunnel_private_key_password-${e}`,type:"password",value:j[e],onChange:t=>B({...j,[e]:t.target.value}),"data-test":"ssh_tunnel_private_key_password"}))))))})(),E?(0,u.Y)(n.Fragment,null,(0,u.Y)(m,null,(0,u.Y)("div",{className:"confirm-overwrite"},r),(0,u.Y)("div",{className:"control-label"},(0,o.t)('Type "%s" to confirm',(0,o.t)("OVERWRITE"))),(0,u.Y)("input",{"data-test":"overwrite-modal-input",id:"overwrite",type:"text",onChange:e=>{var t,a;const n=null!=(t=null==(a=e.currentTarget)?void 0:a.value)?t:"";O(n.toUpperCase()===(0,o.t)("OVERWRITE"))}}))):null)}},22470:(e,t,a)=>{a.d(t,{S:()=>u});var n=a(96540),r=a(90017),o=a(48149),l=a(19129),i=a(17437);const s=(0,r.A)(o.A)`
  ${({theme:e})=>`\n  margin-top: ${e.gridUnit}px;\n  margin-bottom: ${e.gridUnit}px;\n  font-size: ${e.typography.sizes.s}px;\n  `};
`,d=({name:e,id:t,index:a,onDelete:r,editable:o=!1,onClick:d,toolTipTitle:c=e})=>{const u=(0,n.useMemo)((()=>e.length>20),[e])?`${e.slice(0,20)}...`:e;return(0,i.Y)(n.Fragment,null,o?(0,i.Y)(l.m,{title:c,key:c},(0,i.Y)(s,{key:t,closable:o,onClose:()=>a?null==r?void 0:r(a):null,color:"blue"},u)):(0,i.Y)(l.m,{title:c,key:c},(0,i.Y)(s,{"data-test":"tag",role:"link",key:t,onClick:d},t?(0,i.Y)("a",{href:`/superset/all_entities/?id=${t}`,target:"_blank",rel:"noreferrer"},u):u)))},c=r.A.div`
  max-width: 100%;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
`,u=({tags:e,editable:t=!1,onDelete:a,maxTags:r})=>{const[o,l]=(0,n.useState)(r),s=e=>{null==a||a(e)},u=(0,n.useMemo)((()=>o?e.length>o:null),[e.length,o]),p=(0,n.useMemo)((()=>"number"==typeof o?e.length-o+1:null),[u,e.length,o]);return(0,i.Y)(c,{className:"tag-list"},u&&"number"==typeof o?(0,i.Y)(n.Fragment,null,e.slice(0,o-1).map(((e,a)=>(0,i.Y)(d,{id:e.id,key:e.id,name:e.name,index:a,onDelete:s,editable:t}))),e.length>o?(0,i.Y)(d,{name:`+${p}...`,onClick:()=>l(void 0),toolTipTitle:e.map((e=>e.name)).join(", ")}):null):(0,i.Y)(n.Fragment,null,e.map(((e,a)=>(0,i.Y)(d,{id:e.id,key:e.id,name:e.name,index:a,onDelete:s,editable:t}))),r&&e.length>r?(0,i.Y)(d,{name:"...",onClick:()=>l(r)}):null))}},87320:(e,t,a)=>{a.r(t),a.d(t,{default:()=>U});var n,r=a(95579),o=a(90017),l=a(35742),i=a(27366),s=a(61225),d=a(96540),c=a(54625),u=a(58561),p=a.n(u),m=a(30703),h=a(50500),f=a(63358),g=a(22470),b=a(4780),y=a(17444),v=a(51713),w=a(39854),S=a(62221),_=a(5261),x=a(99748),k=a(12249),Y=a(37020),C=a(94704),T=a(8706),A=a(19129),E=a(74354),N=a(23193),P=a(58132),O=a(3932),$=a(58998);!function(e){e.PUBLISHED="published",e.DRAFT="draft"}(n||(n={}));var F=a(84666),I=a(12397),D=a(17437);const H=(0,r.t)('The passwords for the databases below are needed in order to import them together with the dashboards. Please note that the "Secure Extra" and "Certificate" sections of the database configuration are not present in export files, and should be added manually after the import if they are needed.'),R=(0,r.t)("You are importing one or more dashboards that already exist. Overwriting might cause you to lose some of your work. Are you sure you want to overwrite?"),M=o.A.div`
  color: ${({theme:e})=>e.colors.grayscale.base};
`,U=(0,_.Ay)((function(e){var t;const{addDangerToast:a,addSuccessToast:o,user:u}=e,{roles:_}=(0,s.d4)((e=>e.user)),U=(0,F.L)("can_read","Tag",_),{state:{loading:L,resourceCount:z,resourceCollection:j,bulkSelectEnabled:B},setResourceCollection:K,hasPerm:V,fetchData:W,toggleBulkSelect:q,refreshData:G}=(0,h.RU)("dashboard",(0,r.t)("dashboard"),a),J=(0,d.useMemo)((()=>j.map((e=>e.id))),[j]),[X,Q]=(0,h.oG)("dashboard",J,a),[Z,ee]=(0,d.useState)(null),[te,ae]=(0,d.useState)(null),[ne,re]=(0,d.useState)(!1),[oe,le]=(0,d.useState)([]),[ie,se]=(0,d.useState)(!1),[de,ce]=(0,d.useState)([]),[ue,pe]=(0,d.useState)([]),[me,he]=(0,d.useState)([]),fe=(0,S.SX)(null==u||null==(t=u.userId)?void 0:t.toString(),null),ge=V("can_write"),be=V("can_write"),ye=V("can_write"),ve=V("can_export"),we=[{id:"changed_on_delta_humanized",desc:!0}];function Se(e){ee(e)}function _e(e){return l.A.get({endpoint:`/api/v1/dashboard/${e.id}`}).then((({json:e={}})=>{K(j.map((t=>{var a;if(t.id===(null==e||null==(a=e.result)?void 0:a.id)){const{changed_by_name:a,changed_by:n,dashboard_title:r="",slug:o="",json_metadata:l="",changed_on_delta_humanized:i,url:s="",certified_by:d="",certification_details:c="",owners:u,tags:p}=e.result;return{...t,changed_by_name:a,changed_by:n,dashboard_title:r,slug:o,json_metadata:l,changed_on_delta_humanized:i,url:s,certified_by:d,certification_details:c,owners:u,tags:p}}return t})))}),(0,m.JF)((e=>a((0,r.t)("An error occurred while fetching dashboards: %s",e)))))}const xe=e=>{const t=e.map((({id:e})=>e));(0,b.A)("dashboard",t,(()=>{se(!1)})),se(!0)},ke=(0,d.useMemo)((()=>[{Cell:({row:{original:{id:e}}})=>(null==u?void 0:u.userId)&&(0,D.Y)(C.A,{itemId:e,saveFaveStar:X,isStarred:Q[e]}),Header:"",id:"id",disableSortBy:!0,size:"xs",hidden:!(null!=u&&u.userId)},{Cell:({row:{original:{url:e,dashboard_title:t,certified_by:a,certification_details:n}}})=>(0,D.Y)(c.N_,{to:e},a&&(0,D.Y)(d.Fragment,null,(0,D.Y)(P.A,{certifiedBy:a,details:n})," "),t),Header:(0,r.t)("Name"),accessor:"dashboard_title"},{Cell:({row:{original:{status:e}}})=>e===n.PUBLISHED?(0,r.t)("Published"):(0,r.t)("Draft"),Header:(0,r.t)("Status"),accessor:"published",size:"xl"},{Cell:({row:{original:{tags:e=[]}}})=>(0,D.Y)(g.S,{tags:e.filter((e=>"TagTypes.custom"===e.type||1===e.type)),maxTags:3}),Header:(0,r.t)("Tags"),accessor:"tags",disableSortBy:!0,hidden:!(0,i.G7)(i.TO.TaggingSystem)},{Cell:({row:{original:{owners:e=[]}}})=>(0,D.Y)(x.A,{users:e}),Header:(0,r.t)("Owners"),accessor:"owners",disableSortBy:!0,size:"xl"},{Cell:({row:{original:{changed_on_delta_humanized:e,changed_by:t}}})=>(0,D.Y)(I.U,{date:e,user:t}),Header:(0,r.t)("Last modified"),accessor:"changed_on_delta_humanized",size:"xl"},{Cell:({row:{original:e}})=>(0,D.Y)(M,{className:"actions"},ye&&(0,D.Y)(f.A,{title:(0,r.t)("Please confirm"),description:(0,D.Y)(d.Fragment,null,(0,r.t)("Are you sure you want to delete")," ",(0,D.Y)("b",null,e.dashboard_title),"?"),onConfirm:()=>(0,m.yT)(e,G,o,a)},(e=>(0,D.Y)(A.m,{id:"delete-action-tooltip",title:(0,r.t)("Delete"),placement:"bottom"},(0,D.Y)("span",{role:"button",tabIndex:0,className:"action-button",onClick:e},(0,D.Y)(k.A.Trash,{"data-test":"dashboard-list-trash-icon"}))))),ve&&(0,D.Y)(A.m,{id:"export-action-tooltip",title:(0,r.t)("Export"),placement:"bottom"},(0,D.Y)("span",{role:"button",tabIndex:0,className:"action-button",onClick:()=>xe([e])},(0,D.Y)(k.A.Share,null))),be&&(0,D.Y)(A.m,{id:"edit-action-tooltip",title:(0,r.t)("Edit"),placement:"bottom"},(0,D.Y)("span",{role:"button",tabIndex:0,className:"action-button",onClick:()=>Se(e)},(0,D.Y)(k.A.EditAlt,{"data-test":"edit-alt"})))),Header:(0,r.t)("Actions"),id:"actions",hidden:!be&&!ye&&!ve,disableSortBy:!0},{accessor:N.H.ChangedBy,hidden:!0}]),[null==u?void 0:u.userId,be,ye,ve,X,Q,G,o,a]),Ye=(0,d.useMemo)((()=>({Header:(0,r.t)("Favorite"),key:"favorite",id:"id",urlDisplay:"favorite",input:"select",operator:w.t.DashboardIsFav,unfilteredLabel:(0,r.t)("Any"),selects:[{label:(0,r.t)("Yes"),value:!0},{label:(0,r.t)("No"),value:!1}]})),[]),Ce=(0,d.useMemo)((()=>[{Header:(0,r.t)("Name"),key:"search",id:"dashboard_title",input:"search",operator:w.t.TitleOrSlug},{Header:(0,r.t)("Status"),key:"published",id:"published",input:"select",operator:w.t.Equals,unfilteredLabel:(0,r.t)("Any"),selects:[{label:(0,r.t)("Published"),value:!0},{label:(0,r.t)("Draft"),value:!1}]},...(0,i.G7)(i.TO.TaggingSystem)&&U?[{Header:(0,r.t)("Tag"),key:"tags",id:"tags",input:"select",operator:w.t.DashboardTags,unfilteredLabel:(0,r.t)("All"),fetchSelects:O.m}]:[],{Header:(0,r.t)("Owner"),key:"owner",id:"owners",input:"select",operator:w.t.RelationManyMany,unfilteredLabel:(0,r.t)("All"),fetchSelects:(0,m.u1)("dashboard","owners",(0,m.JF)((e=>a((0,r.t)("An error occurred while fetching dashboard owner values: %s",e)))),e.user),paginate:!0},...null!=u&&u.userId?[Ye]:[],{Header:(0,r.t)("Certified"),key:"certified",id:"id",urlDisplay:"certified",input:"select",operator:w.t.DashboardIsCertified,unfilteredLabel:(0,r.t)("Any"),selects:[{label:(0,r.t)("Yes"),value:!0},{label:(0,r.t)("No"),value:!1}]},{Header:(0,r.t)("Modified by"),key:"changed_by",id:"changed_by",input:"select",operator:w.t.RelationOneMany,unfilteredLabel:(0,r.t)("All"),fetchSelects:(0,m.u1)("dashboard","changed_by",(0,m.JF)((e=>(0,r.t)("An error occurred while fetching dataset datasource values: %s",e))),u),paginate:!0}]),[a,Ye,e.user]),Te=[{desc:!1,id:"dashboard_title",label:(0,r.t)("Alphabetical"),value:"alphabetical"},{desc:!0,id:"changed_on_delta_humanized",label:(0,r.t)("Recently modified"),value:"recently_modified"},{desc:!1,id:"changed_on_delta_humanized",label:(0,r.t)("Least recently modified"),value:"least_recently_modified"}],Ae=(0,d.useCallback)((e=>(0,D.Y)($.A,{dashboard:e,hasPerm:V,bulkSelectEnabled:B,showThumbnails:fe?fe.thumbnails:(0,i.G7)(i.TO.Thumbnails),userId:null==u?void 0:u.userId,loading:L,openDashboardEditModal:Se,saveFavoriteStatus:X,favoriteStatus:Q[e.id],handleBulkDashboardExport:xe,onDelete:e=>ae(e)})),[B,Q,V,L,null==u?void 0:u.userId,X,fe]),Ee=[];return(ye||ve)&&Ee.push({name:(0,r.t)("Bulk select"),buttonStyle:"secondary","data-test":"bulk-select",onClick:q}),ge&&(Ee.push({name:(0,D.Y)(d.Fragment,null,(0,D.Y)("i",{className:"fa fa-plus"})," ",(0,r.t)("Dashboard")),buttonStyle:"primary",onClick:()=>{window.location.assign("/dashboard/new")}}),Ee.push({name:(0,D.Y)(A.m,{id:"import-tooltip",title:(0,r.t)("Import dashboards"),placement:"bottomRight"},(0,D.Y)(k.A.Import,{"data-test":"import-button"})),buttonStyle:"link",onClick:()=>{re(!0)}})),(0,D.Y)(d.Fragment,null,(0,D.Y)(v.A,{name:(0,r.t)("Dashboards"),buttons:Ee}),(0,D.Y)(f.A,{title:(0,r.t)("Please confirm"),description:(0,r.t)("Are you sure you want to delete the selected dashboards?"),onConfirm:function(e){return l.A.delete({endpoint:`/api/v1/dashboard/?q=${p().encode(e.map((({id:e})=>e)))}`}).then((({json:e={}})=>{G(),o(e.message)}),(0,m.JF)((e=>a((0,r.t)("There was an issue deleting the selected dashboards: ",e)))))}},(e=>{const t=[];return ye&&t.push({key:"delete",name:(0,r.t)("Delete"),type:"danger",onSelect:e}),ve&&t.push({key:"export",name:(0,r.t)("Export"),type:"primary",onSelect:xe}),(0,D.Y)(d.Fragment,null,Z&&(0,D.Y)(T.A,{dashboardId:Z.id,show:!0,onHide:()=>ee(null),onSubmit:_e}),te&&(0,D.Y)(Y.A,{description:(0,D.Y)(d.Fragment,null,(0,r.t)("Are you sure you want to delete")," ",(0,D.Y)("b",null,te.dashboard_title),"?"),onConfirm:()=>{(0,m.yT)(te,G,o,a,void 0,null==u?void 0:u.userId),ae(null)},onHide:()=>ae(null),open:!!te,title:(0,r.t)("Please confirm")}),(0,D.Y)(w.A,{bulkActions:t,bulkSelectEnabled:B,cardSortSelectOptions:Te,className:"dashboard-list-view",columns:ke,count:z,data:j,disableBulkSelect:q,fetchData:W,refreshData:G,filters:Ce,initialSort:we,loading:L,pageSize:25,addSuccessToast:o,addDangerToast:a,showThumbnails:fe?fe.thumbnails:(0,i.G7)(i.TO.Thumbnails),renderCard:Ae,defaultViewMode:(0,i.G7)(i.TO.ListviewsDefaultCardView)?"card":"table",enableBulkTag:!0,bulkTagResourceName:"dashboard"}))})),(0,D.Y)(E.A,{resourceName:"dashboard",resourceLabel:(0,r.t)("dashboard"),passwordsNeededMessage:H,confirmOverwriteMessage:R,addDangerToast:a,addSuccessToast:o,onModelImport:()=>{re(!1),G(),o((0,r.t)("Dashboard imported"))},show:ne,onHide:()=>{re(!1)},passwordFields:oe,setPasswordFields:le,sshTunnelPasswordFields:de,setSSHTunnelPasswordFields:ce,sshTunnelPrivateKeyFields:ue,setSSHTunnelPrivateKeyFields:pe,sshTunnelPrivateKeyPasswordFields:me,setSSHTunnelPrivateKeyPasswordFields:he}),ie&&(0,D.Y)(y.A,null))}))},25106:(e,t,a)=>{function n(e){return e?`${e.first_name} ${e.last_name}`:""}a.d(t,{A:()=>n})}}]);
//# sourceMappingURL=21d33fb3f6080af9dd6d.chunk.js.map