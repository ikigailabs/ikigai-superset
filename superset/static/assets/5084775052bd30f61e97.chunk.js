(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[8384],{7240:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(96540),o=r(17437);function a(e,t){class r extends n.Component{constructor(e){super(e),this.container=void 0,this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,null!=t&&t.componentWillUnmount&&t.componentWillUnmount.bind(this)()}setContainerRef(e){this.container=e}execute(){this.container&&e(this.container,this.props)}render(){const{id:e,className:t}=this.props;return(0,o.Y)("div",{ref:this.setContainerRef,id:e,className:t})}}const a=r;return e.displayName&&(a.displayName=e.displayName),e.propTypes&&(a.propTypes={...a.propTypes,...e.propTypes}),e.defaultProps&&(a.defaultProps=e.defaultProps),r}},13090:(e,t,r)=>{"use strict";r.d(t,{a1:()=>T,nf:()=>h.A,hs:()=>n,oZ:()=>o.A,Oj:()=>d.A,Ho:()=>m.A,mu:()=>p.A,Am:()=>g.A,qw:()=>A.A,qO:()=>a.A,w_:()=>y.A,zM:()=>s.A,Ck:()=>u.A,LC:()=>f.A,F5:()=>v.A,RE:()=>l.A,ZA:()=>_.ZA,EN:()=>_.EN,o3:()=>C.o3,yG:()=>C.yG,nn:()=>i.A,OB:()=>C.OB,cH:()=>c.A,XW:()=>_.Ay,E2:()=>C.E2,Ob:()=>C.Ob});var n=r(94963),o=r(10526),a=r(20750),i=r(76968),s=r(54249),c=r(69161),l=r(30885),u=r(22054),h=r(94584),d=r(9755),m=r(35638),p=r(65621),g=r(32215),A=r(33269),y=r(44767),f=r(58966),v=r(17838),C=r(39472),_=r(44140);const T="#00A699"},73865:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(35725);function o(e,t,r){let n=e,o=t(n);for(;!r(o);){if(n-=1,n<0){n=e;break}o=t(n)}return n}function a(e){const{idealFontSize:t,maxWidth:r,maxHeight:a,style:i,...s}=e;let c;if(null!=t)c=t;else{if(null==a)throw new Error("You must specify at least one of maxHeight or idealFontSize");c=Math.floor(a)}function l(e){return(0,n.A)({...s,style:{...i,fontSize:`${e}px`}})}return null!=r&&(c=o(c,l,(e=>e.width>0&&e.width<=r))),null!=a&&(c=o(c,l,(e=>e.height>0&&e.height<=a))),c}},66840:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(79305),o=r(55856),a=r(76977);function i(e,t){const{texts:r,className:i,style:s,container:c}=e,l=new Map;let u,h;l.set("",{height:0,width:0});const d=r.map((e=>{if(l.has(e))return l.get(e);u||(h=o.z.createInContainer(c),u=o.k.createInContainer(h)),(0,a.A)(u,{className:i,style:s,text:e});const r=(0,n.A)(u,t);return l.set(e,r),r}));return h&&u&&setTimeout((()=>{o.k.removeFromContainer(h),o.z.removeFromContainer(c)}),500),d}},35725:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(76977),o=r(79305),a=r(55856);function i(e,t){const{text:r,className:i,style:s,container:c}=e;if(0===r.length)return{height:0,width:0};const l=a.z.createInContainer(c),u=a.k.createInContainer(l);(0,n.A)(u,{className:i,style:s,text:r});const h=(0,o.A)(u,t);return setTimeout((()=>{a.k.removeFromContainer(l),a.z.removeFromContainer(c)}),500),h}},55856:(e,t,r)=>{"use strict";r.d(t,{z:()=>a,k:()=>i});class n{constructor(e){this.activeNodes=new Map,this.factoryFn=void 0,this.factoryFn=e}createInContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);return t.counter+=1,t.node}const t=this.factoryFn();return e.append(t),this.activeNodes.set(e,{counter:1,node:t}),t}removeFromContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);t.counter-=1,0===t.counter&&(e.removeChild(t.node),this.activeNodes.delete(e))}}}const o="http://www.w3.org/2000/svg",a=new n((function(){const e=document.createElementNS(o,"svg");return e.style.position="absolute",e.style.top="-100%",e.style.left="-100%",e.style.width="0",e.style.height="0",e.style.opacity="0",e.style.pointerEvents="none",e})),i=new n((function(){return document.createElementNS(o,"text")}))},79305:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});const n={height:20,width:100};function o(e,t=n){const{width:r,height:o}=e.getBBox?e.getBBox():t;return{height:Math.ceil(o),width:Math.ceil(r)}}},76977:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});const n=["font","fontWeight","fontStyle","fontSize","fontFamily","letterSpacing"];function o(e,{className:t,style:r={},text:o}={}){const a=e;return a.textContent!==o&&(a.textContent=void 0===o?null:o),a.getAttribute("class")!==t&&a.setAttribute("class",null!=t?t:""),a.style.removeProperty("font"),a.style.removeProperty("font-weight"),a.style.removeProperty("font-style"),a.style.removeProperty("font-size"),a.style.removeProperty("font-family"),a.style.removeProperty("letter-spacing"),n.filter((e=>void 0!==r[e]&&null!==r[e])).forEach((e=>{a.style[e]=`${r[e]}`})),a}},46785:(e,t,r)=>{"use strict";r.d(t,{n:()=>o});var n=r(96540);const o=e=>{const t=(0,n.useRef)(!1);(0,n.useEffect)((()=>{t.current?e():t.current=!0}),[e])}},45991:(e,t,r)=>{"use strict";r.d(t,{N:()=>o});var n=r(96540);function o(e){const t=(0,n.useRef)(null),[r,o]=(0,n.useState)(!1),a=e=>{const[t]=e;o(t.intersectionRatio<1)};return(0,n.useEffect)((()=>{const r=new IntersectionObserver(a,e),n=t.current;return n&&r.observe(n),()=>{n&&r.unobserve(n)}}),[t,e]),[t,r]}},47163:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(96540);const o=()=>{const[e,t]=(0,n.useState)(0),[r,o]=(0,n.useState)(!1),a=(0,n.useRef)(null),i=(0,n.useRef)(null);return(0,n.useLayoutEffect)((()=>{var e;const r=()=>{const e=a.current;if(!e)return;const r=i.current,{scrollWidth:n,clientWidth:s,childNodes:c}=e;if(n>s){const e=6,n=(null==r?void 0:r.offsetWidth)||0,a=s-e,i=c.length;let l=0,u=0;for(let e=0;e<i;e+=1)a-l-n<=0&&(u+=1),l+=c[e].offsetWidth;i>1&&u?(o(!0),t(u)):(o(!1),t(1))}else o(!1),t(0)},n=new ResizeObserver(r),s=null==(e=a.current)?void 0:e.parentElement;return s&&n.observe(s),r(),()=>{n.disconnect()}}),[i.current]),[a,i,e,r]}},81511:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AnnotationOpacity:()=>Fe.h4,AnnotationSourceType:()=>Fe.FG,AnnotationStyle:()=>Fe.vd,AnnotationType:()=>Fe.UJ,ApiLegacy:()=>n,ApiV1:()=>o,AppSection:()=>Dt.$s,AxisType:()=>Dt.Gw,BRAND_COLOR:()=>et.a1,Behavior:()=>Dt.nS,CategoricalAirbnb:()=>et.nf,CategoricalColorNamespace:()=>et.hs,CategoricalColorScale:()=>et.oZ,CategoricalD3:()=>et.Oj,CategoricalEcharts:()=>et.Ho,CategoricalGoogle:()=>et.mu,CategoricalLyft:()=>et.Am,CategoricalPreset:()=>et.qw,CategoricalScheme:()=>et.qO,CategoricalSuperset:()=>et.w_,ChartClient:()=>ht,ChartDataProvider:()=>Ft,ChartFrame:()=>bt,ChartLabel:()=>Dt.jW,ChartMetadata:()=>dt.A,ChartPlugin:()=>mt.A,ChartProps:()=>pt.A,ChartPropsConfig:()=>pt.ChartPropsConfig,ColorScheme:()=>et.zM,ColorSchemeRegistry:()=>et.Ck,ComparisonType:()=>I.g1,ContributionType:()=>L.PA,CtasEnum:()=>L.Hk,CurrencyFormatter:()=>Kt.A,DEFAULT_D3_FORMAT:()=>xe.w,DEFAULT_METRICS:()=>b.Cq,DTTM_ALIAS:()=>he.Tf,DataMaskType:()=>X.p_,DatasourceKey:()=>fe.A,DatasourceType:()=>b.cT,EXTRA_FORM_DATA_APPEND_KEYS:()=>he.t1,EXTRA_FORM_DATA_OVERRIDE_EXTRA_KEYS:()=>he.KE,EXTRA_FORM_DATA_OVERRIDE_KEYS:()=>he.zk,EXTRA_FORM_DATA_OVERRIDE_REGULAR_KEYS:()=>he.E_,EXTRA_FORM_DATA_OVERRIDE_REGULAR_MAPPINGS:()=>he.DV,EmotionCacheProvider:()=>tt.jf,ErrorTypeEnum:()=>L.eK,ExtensibleFunction:()=>a.A,FAST_DEBOUNCE:()=>Yt.j,FeatureFlag:()=>S.TO,GenericDataType:()=>O.s,LOCAL_PREFIX:()=>ke.n,NO_TIME_RANGE:()=>he.WC,NativeFilterType:()=>X.EH,NumberFormats:()=>Se.A,NumberFormatter:()=>Ee.A,NumberFormatterRegistry:()=>be.A,OverwritePolicy:()=>c.m,PREVIEW_TIME:()=>Oe.p,PREVIEW_VALUE:()=>Ee.t,PandasAxis:()=>F,Plugin:()=>i.A,Preset:()=>s.A,QueryMode:()=>k.g,QueryState:()=>L.kZ,Registry:()=>c.A,RegistryWithDefaultKey:()=>l.A,RollingType:()=>I.AA,SLOW_DEBOUNCE:()=>Yt.Q,SafeMarkdown:()=>Ut.A,SequentialCommon:()=>et.LC,SequentialD3:()=>et.F5,SequentialScheme:()=>et.RE,SharedLabelColor:()=>et.ZA,SharedLabelColorSource:()=>et.EN,SuperChart:()=>yt.A,SupersetApiError:()=>De._,SupersetApiErrorType:()=>De.w,SupersetClient:()=>te.A,SupersetClientClass:()=>re.A,ThemeProvider:()=>tt.NP,TimeFormats:()=>ke.A,TimeFormatter:()=>Oe.A,TimeGranularity:()=>Be.i,TooltipFrame:()=>It,TooltipTable:()=>jt,TypedRegistry:()=>u.A,WithLegend:()=>Lt,__hack_reexport_AdvancedAnalytics:()=>I.Ay,__hack_reexport_Column:()=>R.Ay,__hack_reexport_Dashboard:()=>X.Ay,__hack_reexport_Datasource:()=>b.Ay,__hack_reexport_Metric:()=>N.Ay,__hack_reexport_Query:()=>L.Ay,__hack_reexport_QueryFormData:()=>k.A,__hack_reexport_QueryResponse:()=>O.A,__hack_reexport_Time:()=>$,__hack_reexport_chart_Base:()=>Dt.Ay,__hack_reexport_chart_QueryResponse:()=>Et,__hack_reexport_chart_TransformFunction:()=>St,__hack_reexport_connection:()=>ne,__hack_reexport_dimension:()=>Je,__hack_reexport_jed:()=>Z,__hack_reexport_translation:()=>J,addAlpha:()=>et.o3,addLocaleData:()=>K.Mo,addTranslation:()=>K.XY,addTranslations:()=>K.um,buildCustomFormatters:()=>Zt.Xc,buildQueryContext:()=>de.A,buildQueryObject:()=>me.A,callApi:()=>ee.A,chartLabelExplanations:()=>Dt.HE,chartLabelWeight:()=>Dt.l7,computeMaxFontSize:()=>Xe.A,concludedQueryStateList:()=>L.tG,configure:()=>K.jK,convertFilter:()=>pe.A,convertKeysToCamelCase:()=>h.A,createD3NumberFormatter:()=>Re.A,createD3TimeFormatter:()=>ze.A,createDurationFormatter:()=>we.A,createEmotionCache:()=>tt.An,createLoadableRenderer:()=>gt.A,createMultiFormatter:()=>je.A,createSiAtMostNDigitFormatter:()=>Me,createSmartNumberFormatter:()=>Le.A,css:()=>tt.AH,defineSharedModule:()=>oe.zW,defineSharedModules:()=>oe.mg,denormalizeTimestamp:()=>Qe,emotionCache:()=>tt.gF,ensureIsArray:()=>d.A,ensureIsInt:()=>m.A,evalExpression:()=>Wt.p,extractQueryFields:()=>_e.A,extractTimegrain:()=>ge.A,finestTemporalGrainFormatter:()=>qe.A,formatNumber:()=>Pe.ZV,formatTime:()=>Ie.fU,formatTimeRange:()=>Ie.sH,getAnalogousColors:()=>et.yG,getCategoricalSchemeRegistry:()=>et.nn,getChartBuildQueryRegistry:()=>lt.A,getChartComponentRegistry:()=>ft.A,getChartControlPanelRegistry:()=>vt.A,getChartMetadataRegistry:()=>ut.A,getChartTransformPropsRegistry:()=>Ct.A,getColumnLabel:()=>Ae.A,getContrastingColor:()=>et.OB,getCurrencySymbol:()=>Kt.Q,getCustomFormatter:()=>Zt.Em,getExtensionsRegistry:()=>qt.a,getMetricLabel:()=>ye.A,getMultipleTextDimensions:()=>Ve.A,getNumberFormatter:()=>Pe.gV,getNumberFormatterRegistry:()=>Pe.Ay,getSelectedText:()=>D.j,getSequentialSchemeRegistry:()=>et.cH,getSharedLabelColor:()=>et.XW,getTextDimension:()=>Ge.A,getTimeFormatter:()=>Ie.mo,getTimeFormatterForGranularity:()=>Ie.PT,getTimeFormatterRegistry:()=>Ie.Ay,getTimeRangeFormatter:()=>Ie.$K,getValueFormatter:()=>Zt.gC,getXAxisColumn:()=>Te.Od,getXAxisLabel:()=>Te.yj,hexToRgb:()=>et.E2,initFeatureFlags:()=>S.Aq,isAdhocColumn:()=>R.q0,isAdhocMetricSQL:()=>N.WL,isAdhocMetricSimple:()=>N.IN,isBinaryAdhocFilter:()=>w.bo,isBinaryOperator:()=>M.UH,isDefined:()=>p.A,isEqualArray:()=>A.A,isEventAnnotationLayer:()=>Fe.Tw,isFeatureEnabled:()=>S.G7,isFilterDivider:()=>X.O2,isFormulaAnnotationLayer:()=>Fe.Bg,isFreeFormAdhocFilter:()=>w.wF,isIntervalAnnotationLayer:()=>Fe.Cv,isNativeFilter:()=>X.qQ,isNativeFilterWithDataMask:()=>X.ee,isPhysicalColumn:()=>R.eh,isPostProcessingAggregation:()=>z,isPostProcessingBoxplot:()=>j,isPostProcessingCompare:()=>B,isPostProcessingContribution:()=>Y,isPostProcessingCum:()=>Q,isPostProcessingDiff:()=>q,isPostProcessingPivot:()=>U,isPostProcessingProphet:()=>W,isPostProcessingResample:()=>V,isPostProcessingRolling:()=>H,isPostProcessingSort:()=>G,isProbablyHTML:()=>P.fE,isQueryFormColumn:()=>R.x$,isQueryFormMetric:()=>N.Pr,isRecordAnnotationResult:()=>Fe.mI,isRequired:()=>g.A,isSavedMetric:()=>N.S_,isSetAdhocFilter:()=>w.M6,isSetOperator:()=>M.jy,isSimpleAdhocFilter:()=>w.md,isTableAnnotationLayer:()=>Fe.n2,isTimeseriesAnnotationLayer:()=>Fe.No,isTimeseriesAnnotationResult:()=>Fe.f3,isUnaryAdhocFilter:()=>w.TI,isUnaryOperator:()=>M.Gq,isValidExpression:()=>Wt.$,isXAxisSet:()=>Te.aj,jsx:()=>tt.Y,keyframes:()=>tt.i7,legacyValidateInteger:()=>rt.A,legacyValidateNumber:()=>nt.A,logging:()=>v.A,lruCache:()=>T,makeApi:()=>ce.A,makeSingleton:()=>y.A,mergeMargin:()=>Ke,normalizeOrderBy:()=>ve.A,normalizeTimeColumn:()=>Ce.j,normalizeTimestamp:()=>He.A,parseLength:()=>Ze.A,promiseTimeout:()=>f,reactify:()=>At.A,removeDuplicates:()=>C.A,removeHTMLTags:()=>P.zF,reset:()=>oe.cL,resetTranslation:()=>K.Fh,rgbToHex:()=>et.Ob,runningQueryStateList:()=>L.P7,safeHtmlSpan:()=>P.nn,sanitizeHtml:()=>P.pn,sanitizeHtmlIfNeeded:()=>P.pU,seed:()=>E.c,seedRandom:()=>E.d,setD3Format:()=>Pe.rl,smartDateDetailedFormatter:()=>Ue.A,smartDateFormatter:()=>Ye.A,smartDateVerboseFormatter:()=>We.A,styled:()=>tt.I4,supersetTheme:()=>tt.TT,t:()=>K.t,testQuery:()=>L.hd,testQueryResponse:()=>L.aW,testQueryResults:()=>L.X,tn:()=>K.tn,truncationCSS:()=>$t.P,typedMemo:()=>x.v,useCSSTextTruncation:()=>$t.A,useChangeEffect:()=>Ht.h,useComponentDidMount:()=>Qt.B,useComponentDidUpdate:()=>Bt.n,useElementOnScreen:()=>Gt.N,usePrevious:()=>Vt.Z,useTheme:()=>tt.DP,useTruncation:()=>Xt.A,validateInteger:()=>ot,validateMapboxStylesUrl:()=>ct.A,validateMaxValue:()=>st.A,validateNonEmpty:()=>it.A,validateNumber:()=>at.A,withTheme:()=>tt.SL});var n={};r.r(n),r.d(n,{__hack_reexport_query_api_legacy:()=>se,getDatasourceMetadata:()=>ie,getFormData:()=>ae});var o={};r.r(o),r.d(o,{default:()=>ue,getChartData:()=>le});var a=r(4923),i=r(9569),s=r(11869),c=r(25373),l=r(79953),u=r(44711),h=r(75451),d=r(62952),m=r(12),p=r(13270),g=r(85678),A=r(65482),y=r(70360);function f(e,t){return new Promise((r=>{setTimeout((()=>{r(e())}),t)}))}var v=r(5362),C=r(64389);class _{constructor(e){if(this.cache=void 0,this.capacity=void 0,e<1)throw new Error("The capacity in LRU must be greater than 0.");this.capacity=e,this.cache=new Map}has(e){return this.cache.has(e)}get(e){if("string"!=typeof e)throw new TypeError("The LRUCache key must be string.");if(this.cache.has(e)){const t=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,t),t}}set(e,t){if("string"!=typeof e)throw new TypeError("The LRUCache key must be string.");this.cache.size>=this.capacity&&this.cache.delete(this.cache.keys().next().value),this.cache.set(e,t)}clear(){this.cache.clear()}get size(){return this.cache.size}}function T(e=100){return new _(e)}var F,D=r(51609),S=r(27366),E=r(37820),x=r(10873),P=r(58642),b=r(5795),R=r(70700),w=r(808),N=r(91778),M=r(57246),L=r(69108),k=r(79758),O=r(87903),I=r(48822);function z(e){return"aggregation"===(null==e?void 0:e.operation)}function j(e){return"boxplot"===(null==e?void 0:e.operation)}function Y(e){return"contribution"===(null==e?void 0:e.operation)}function U(e){return"pivot"===(null==e?void 0:e.operation)}function W(e){return"prophet"===(null==e?void 0:e.operation)}function q(e){return"diff"===(null==e?void 0:e.operation)}function H(e){return"rolling"===(null==e?void 0:e.operation)}function Q(e){return"cum"===(null==e?void 0:e.operation)}function B(e){return"compare"===(null==e?void 0:e.operation)}function G(e){return"sort"===(null==e?void 0:e.operation)}function V(e){return"resample"===(null==e?void 0:e.operation)}!function(e){e[e.Row=0]="Row",e[e.Column=1]="Column"}(F||(F={}));var X=r(73992);const $={};var K=r(95579);const Z={},J={};var ee=r(60771),te=r(35742),re=r(90752);const ne={};var oe=r(72557);function ae({client:e=te.A,sliceId:t,overrideFormData:r,requestConfig:n}){const o=e.get({endpoint:`/api/v1/form_data/?slice_id=${t}`,...n}).then((({json:e})=>e));return r?o.then((e=>({...e,...r}))):o}function ie({client:e=te.A,datasourceKey:t,requestConfig:r}){return e.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${t}`,...r}).then((e=>e.json))}const se={};var ce=r(93505);const le=(0,ce.A)({method:"POST",endpoint:"/api/v1/chart/data"}),ue={getChartData:le};var he=r(96627),de=r(1889),me=r(26632),pe=r(39131),ge=r(1055),Ae=r(86444),ye=r(36770),fe=r(83942),ve=r(21408),Ce=r(96590),_e=r(46302),Te=r(38677),Fe=r(2090),De=r(71130),Se=r(53682),Ee=r(17652),xe=r(38409),Pe=r(32142),be=r(22191),Re=r(67438),we=r(86518),Ne=r(34410);function Me(e={}){const{description:t,n:r=3,id:n,label:o}=e,a=(0,Ne.GP)(`.${r}s`);return new Ee.A({description:t,formatFunc:e=>{const t=a(e);return t.slice(-1)<"A"?parseFloat(t).toString():t},id:null!=n?n:`si_at_most_${r}_digit`,label:null!=o?o:`SI with at most ${r} significant digits`})}var Le=r(80552),ke=r(85170),Oe=r(73091),Ie=r(7349),ze=r(2482),je=r(49327),Ye=r(47952),Ue=r(5632),We=r(58928),qe=r(94465),He=r(81550);function Qe(e){const t=e.match(He.W);return t?`${t[1]}T${t[2]}`:e}var Be=r(81468),Ge=r(35725),Ve=r(66840),Xe=r(73865);function $e(e,t=0,r=0){return Number.isNaN(t)||null===t?r:Number.isNaN(r)||null===r?t:e(t,r)}function Ke(e={},t={},r="expand"){const{top:n,left:o,bottom:a,right:i}=e,s="expand"===r?Math.max:Math.min;return{bottom:$e(s,a,t.bottom),left:$e(s,o,t.left),right:$e(s,i,t.right),top:$e(s,n,t.top)}}var Ze=r(91249);const Je={};var et=r(13090),tt=r(96453),rt=r(49953),nt=r(53674);function ot(e){return!("string"==typeof e&&e.trim().length>0&&Number.isInteger(Number(e.trim()))||"number"==typeof e&&Number.isInteger(e))&&(0,K.t)("is expected to be an integer")}var at=r(83957),it=r(82920),st=r(99947),ct=r(7036),lt=r(81998),ut=r(80145);class ht{constructor(e={}){this.client=void 0;const{client:t=te.A}=e;this.client=t}loadFormData(e,t){return"sliceId"in e?this.client.get({endpoint:`/api/v1/form_data/?slice_id=${e.sliceId}`,...t}).then((e=>e.json)).then((t=>({...t,...e.formData}))):e.formData?Promise.resolve(e.formData):Promise.reject(new Error("At least one of sliceId or formData must be specified"))}async loadQueryData(e,t){const{viz_type:r}=e,n=(0,ut.A)(),o=(0,lt.A)();if(n.has(r)){var a;const{useLegacyApi:i}=n.get(r),s=null!=(a=await o.get(r))?a:()=>e,c=i?{endpoint:"/superset/explore_json/",postPayload:{form_data:s(e)},...t}:{endpoint:"/api/v1/chart/data",jsonPayload:{query_context:s(e)},...t};return this.client.post(c).then((e=>Array.isArray(e.json)?e.json:[e.json]))}return Promise.reject(new Error(`Unknown chart type: ${r}`))}loadDatasource(e,t){return this.client.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${e}`,...t}).then((e=>e.json))}loadAnnotation(e){return(0,p.A)(e.sourceType)?Promise.reject(new Error("This feature is not implemented yet.")):Promise.resolve({})}loadAnnotations(e){return Array.isArray(e)&&e.length>0?Promise.all(e.map((e=>this.loadAnnotation(e)))).then((t=>e.reduce(((e,r,n)=>{const o=e;return o[r.name]=t[n],o}),{}))):Promise.resolve({})}loadChartData(e){return this.loadFormData(e).then((e=>Promise.all([this.loadAnnotations(e.annotation_layers),this.loadDatasource(e.datasource),this.loadQueryData(e)]).then((([t,r,n])=>({annotationData:t,datasource:r,formData:e,queriesData:n})))))}}var dt=r(13708),mt=r(78410),pt=r(54111),gt=r(11460),At=r(7240),yt=r(28846),ft=r(27577),vt=r(18253),Ct=r(40012),_t=r(96540);class Tt extends _t.PureComponent{constructor(e){super(e),this.chartClient=void 0,this.handleFetchData=()=>{const{loadDatasource:e,formDataRequestOptions:t,datasourceRequestOptions:r,queryRequestOptions:n}=this.props;this.setState({status:"loading"},(()=>{try{this.chartClient.loadFormData(this.extractSliceIdAndFormData(),t).then((t=>Promise.all([e?this.chartClient.loadDatasource(t.datasource,r):Promise.resolve(void 0),this.chartClient.loadQueryData(t,n)]).then((([e,r])=>({datasource:e,formData:t,queriesData:r}))))).then(this.handleReceiveData).catch(this.handleError)}catch(e){this.handleError(e)}}))},this.handleReceiveData=e=>{const{onLoaded:t}=this.props;t&&t(e),this.setState({payload:e,status:"loaded"})},this.handleError=e=>{const{onError:t}=this.props;t&&t(e),this.setState({error:e,status:"error"})},this.state={status:"uninitialized"},this.chartClient=new ht({client:e.client})}componentDidMount(){this.handleFetchData()}componentDidUpdate(e){const{formData:t,sliceId:r}=this.props;t===e.formData&&r===e.sliceId||this.handleFetchData()}extractSliceIdAndFormData(){const{formData:e,sliceId:t}=this.props;return e?{formData:e}:{sliceId:t}}render(){const{children:e}=this.props,{status:t,payload:r,error:n}=this.state;switch(t){case"loading":return e({loading:!0});case"loaded":return e({payload:r});case"error":return e({error:n});default:return null}}}const Ft=Tt;var Dt=r(58863);const St={},Et={};var xt=r(17437);function Pt(e){return(0,p.A)(e)&&"number"==typeof e}class bt extends _t.PureComponent{render(){const{contentWidth:e,contentHeight:t,width:r,height:n,renderContent:o}=this.props,a=Pt(e)&&e>r,i=Pt(t)&&t>n;return a||i?(0,xt.Y)("div",{style:{height:n,overflowX:a?"auto":"hidden",overflowY:i?"auto":"hidden",width:r}},o({height:Math.max(null!=t?t:0,n),width:Math.max(null!=e?e:0,r)})):o({height:n,width:r})}}bt.defaultProps={renderContent(){}};var Rt=r(56324);const wt={display:"flex",flexGrow:0,flexShrink:0,order:-1},Nt={flexBasis:"auto",flexGrow:1,flexShrink:1,position:"relative"};class Mt extends _t.PureComponent{getContainerDirection(){const{position:e}=this.props;return"left"===e?"row":"right"===e?"row-reverse":"bottom"===e?"column-reverse":"column"}getLegendJustifyContent(){const{legendJustifyContent:e,position:t}=this.props;return e||("left"===t||"right"===t?"flex-start":"flex-end")}render(){const{className:e,debounceTime:t,width:r,height:n,position:o,renderChart:a,renderLegend:i}=this.props,s="left"===o||"right"===o,c={display:"flex",flexDirection:this.getContainerDirection(),height:n,width:r},l={...Nt};s?l.width=0:l.height=0;const u=s?"column":"row",h={...wt,flexDirection:u,justifyContent:this.getLegendJustifyContent()};return(0,xt.Y)("div",{className:`with-legend ${e}`,style:c},i&&(0,xt.Y)("div",{className:"legend-container",style:h},i({direction:u})),(0,xt.Y)("div",{className:"main-container",style:l},(0,xt.Y)(Rt.A,{debounceTime:t},(e=>e.width>0&&e.height>0?a(e):null))))}}Mt.defaultProps={className:"",height:"auto",position:"top",width:"auto"};const Lt=Mt,kt={padding:8};class Ot extends _t.PureComponent{render(){const{className:e,children:t}=this.props;return(0,xt.Y)("div",{className:e,style:kt},t)}}Ot.defaultProps={className:""};const It=Ot,zt={paddingLeft:8,textAlign:"right"};class jt extends _t.PureComponent{render(){const{className:e,data:t}=this.props;return(0,xt.Y)("table",{className:e},(0,xt.Y)("tbody",null,t.map((({key:e,keyColumn:t,keyStyle:r,valueColumn:n,valueStyle:o})=>(0,xt.Y)("tr",{key:e},(0,xt.Y)("td",{style:r},null!=t?t:e),(0,xt.Y)("td",{style:o?{...zt,...o}:zt},n))))))}}jt.defaultProps={className:"",data:[]};var Yt=r(87843),Ut=r(16784),Wt=r(36673),qt=r(72391),Ht=r(45905),Qt=r(93211),Bt=r(46785),Gt=r(45991),Vt=r(83505),Xt=r(47163),$t=r(37827),Kt=r(57940),Zt=r(95034)},94465:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(82692),o=r(94387),a=r(73091);function i(e,t=!1){const r=t?n.DC:n.aL,i=r("%Y-%m-%d %H:%M:%S.%L"),s=r("%Y-%m-%d %H:%M:%S"),c=r("%Y-%m-%d %H:%M"),l=r("%Y-%m-%d %H:%M"),u=r("%Y-%m-%d"),h=r("%Y-%m-%d"),d=r("%Y"),{hasMillisecond:m,hasSecond:p,hasMinute:g,hasHour:A,isNotFirstDayOfMonth:y,isNotFirstMonth:f}=t?o.m:o.w;let v=d;return e.forEach((e=>{v===d&&f(e)&&(v=h),v===h&&y(e)&&(v=u),v===u&&A(e)&&(v=l),v===l&&g(e)&&(v=c),v===c&&p(e)&&(v=s),v===s&&m(e)&&(v=i)})),new a.A({description:"Use the finest grain in an array of dates to format all dates in the array",formatFunc:v,id:"finest_temporal_grain",label:"Format temporal columns with the finest grain",useLocalTime:t})}},51609:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});const n=()=>{var e;return null==(e=window.getSelection())?void 0:e.toString()}},58642:(e,t,r)=>{"use strict";r.d(t,{fE:()=>s,nn:()=>l,pU:()=>c,pn:()=>i,zF:()=>u}),r(96540);var n=r(34005),o=r(17437);const a=new n.FilterXSS({whiteList:{...(0,n.getDefaultWhiteList)(),span:["style","class","title"],div:["style","class"],a:["style","class","href","title","target"],img:["style","class","src","alt","title","width","height"],video:["autoplay","controls","loop","preload","src","height","width","muted"]},stripIgnoreTag:!0,css:!1});function i(e){return a.process(e)}function s(e){return Array.from((new DOMParser).parseFromString(e,"text/html").body.childNodes).some((({nodeType:e})=>1===e))}function c(e){return s(e)?i(e):e}function l(e){return s(e)?(0,o.Y)("span",{className:"safe-html-wrapper",dangerouslySetInnerHTML:{__html:i(e)}}):e}function u(e){return e.replace(/<[^>]*>/g,"")}},37820:(e,t,r)=>{"use strict";r.d(t,{c:()=>a,d:()=>i});var n=r(7391),o=r.n(n);function a(e){return o()(e)}function i(){return o()("superset-ui")()}},10873:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});const n=r(96540).memo},41234:()=>{}}]);
//# sourceMappingURL=5084775052bd30f61e97.chunk.js.map