"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[5181],{47249:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(90317),r=n(69842),o=n(69244);function l(e,t=!1){const n=t?a.i$:a.g0,l=n("%Y-%m-%d %H:%M:%S.%L"),i=n("%Y-%m-%d %H:%M:%S"),s=n("%Y-%m-%d %H:%M"),u=n("%Y-%m-%d %H:%M"),c=n("%Y-%m-%d"),p=n("%Y-%m-%d"),f=n("%Y"),{hasMillisecond:d,hasSecond:m,hasMinute:h,hasHour:g,isNotFirstDayOfMonth:v,isNotFirstMonth:S}=t?r.Z:r.b;let y=f;return e.forEach((e=>{y===f&&S(e)&&(y=p),y===p&&v(e)&&(y=c),y===c&&g(e)&&(y=u),y===u&&h(e)&&(y=s),y===s&&m(e)&&(y=i),y===i&&d(e)&&(y=l)})),new o.Z({description:"Use the finest grain in an array of dates to format all dates in the array",formatFunc:y,id:"finest_temporal_grain",label:"Format temporal columns with the finest grain",useLocalTime:t})}},4591:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(97538);const r=(0,n(42968).Z)(a.Z.Item)`
  ${({theme:e})=>`\n    .ant-form-item-label {\n      padding-bottom: ${e.gridUnit}px;\n      & > label {\n        text-transform: uppercase;\n        font-size: ${e.typography.sizes.s}px;\n        color: ${e.colors.grayscale.base};\n\n        &.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n          &::before {\n            display: none;\n          }\n          &::after {\n            display: inline-block;\n            color: ${e.colors.error.base};\n            font-size: ${e.typography.sizes.s}px;\n            content: '*';\n          }\n        }\n      }\n    }\n  `}
`},61641:(e,t,n)=>{var a,r;n.d(t,{N:()=>r,p:()=>a}),function(e){e.Simple="SIMPLE",e.Sql="SQL"}(a||(a={})),function(e){e.Having="HAVING",e.Where="WHERE"}(r||(r={}))},45181:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var a=n(23279),r=n.n(a),o=n(67294),l=n(55786),i=n(10581),s=n(47249),u=n(61988),c=n(16355),p=n(90057),f=n(4715),d=n(27600),m=n(85633),h=n(52004),g=n(74448),v=n(56080),S=n(11965);function y(e,t){switch(t.type){case"ownState":return e.ownState={...e.ownState,...t.ownState},e;case"filterState":return JSON.stringify(e.extraFormData)!==JSON.stringify(t.extraFormData)&&(e.extraFormData=t.extraFormData),JSON.stringify(e.filterState)!==JSON.stringify(t.filterState)&&(e.filterState={...e.filterState,...t.filterState}),e;default:return e}}function b(e){const{coltypeMap:t,data:n,filterState:a,formData:b,height:w,isRefreshing:M,width:F,setDataMask:N,setHoveredFilter:Z,unsetHoveredFilter:C,setFocusedFilter:x,unsetFocusedFilter:O,setFilterActive:$,appSection:k,showOverflow:E,parentRef:H,inputRef:T,filterBarOrientation:D}=e,{enableEmptyFilter:A,multiSelect:J,showSearch:j,inverseSelection:L,defaultToFirstItem:Y,searchAllOptions:q}=b,I=(0,o.useMemo)((()=>(0,l.Z)(b.groupby).map(i.Z)),[b.groupby]),[z]=I,[R]=(0,o.useState)(t),[B,G]=(0,o.useState)(""),[U,V]=(0,p.C)(y,{extraFormData:{},filterState:a}),W=t[z],P=(0,o.useMemo)((()=>(0,v.EG)({timeFormatter:(0,s.Z)(n.map((e=>e[z])))})),[n,z]),_=(0,o.useCallback)((e=>{const t=A&&!L&&!(null!=e&&e.length),n=L&&null!=e&&e.length?(0,u.t)(" (excluded)"):"";V({type:"filterState",extraFormData:(0,v.vb)(z,e,t,L),filterState:{...a,label:null!=e&&e.length?`${(e||[]).map((e=>P(e,W))).join(", ")}${n}`:void 0,value:k===c.Tr.FilterConfigModal&&Y?void 0:e}})}),[k,z,W,Y,V,A,L,JSON.stringify(a),P]),Q=k===c.Tr.FilterConfigModal&&Y,K=(0,o.useMemo)((()=>r()((e=>{G(e),q&&V({type:"ownState",ownState:{coltypeMap:R,search:e}})}),d.M$)),[V,R,q]),X=(0,o.useCallback)((()=>{O(),K("")}),[K,O]),ee=(0,o.useCallback)((e=>{const t=null===e?[null]:(0,l.Z)(e);0===t.length?_(null):_(t)}),[_]),te=0===n.length?(0,u.t)("No data"):(0,u.tn)("%s option","%s options",n.length,n.length),ne=(0,o.useMemo)((()=>{if(a.validateMessage)return(0,S.tZ)(g.Am,{status:a.validateStatus},a.validateMessage)}),[a.validateMessage,a.validateStatus]),ae=(0,o.useMemo)((()=>[...new Set([...n.map((e=>e[z]))])].map((e=>({label:P(e,W),value:e,isNewOption:!1})))),[n,W,z,P]),re=(0,o.useMemo)((()=>(!B||J||(0,m.Gq)(B,ae,!0)||ae.unshift({label:B,value:B,isNewOption:!0}),ae)),[J,B,ae]),oe=(0,o.useCallback)(((e,t)=>{const n=(0,m.mj)("label");return b.sortAscending?n(e,t):n(t,e)}),[b.sortAscending]);return(0,o.useEffect)((()=>{if(Y&&void 0===a.value){const e=n[0]?I.map((e=>n[0][e])):null;void 0!==(null==e?void 0:e[0])&&_(e)}else _(Q?null:a.value)}),[z,Q,Y,A,L,_,n,I,JSON.stringify(a.value)]),(0,o.useEffect)((()=>{N(U)}),[JSON.stringify(U)]),(0,S.tZ)(g.un,{height:w,width:F},(0,S.tZ)(g.jp,{validateStatus:a.validateStatus,extra:ne},(0,S.tZ)(f.Ph,{allowClear:!0,allowNewOptions:!q,allowSelectAll:!q,value:a.value||[],disabled:Q,getPopupContainer:E?()=>(null==H?void 0:H.current)||document.body:e=>(null==e?void 0:e.parentNode)||document.body,showSearch:j,mode:J?"multiple":"single",placeholder:te,onClear:()=>K(""),onSearch:K,onBlur:X,onFocus:x,onMouseEnter:Z,onMouseLeave:C,onChange:ee,ref:T,loading:M,oneLine:D===h.Bp.Horizontal,invertSelection:L,options:re,sortComparator:oe,onDropdownVisibleChange:$})))}},74448:(e,t,n)=>{n.d(t,{Am:()=>s,h2:()=>o,jp:()=>i,un:()=>l});var a=n(42968),r=n(4591);const o=0,l=a.Z.div`
  min-height: ${({height:e})=>e}px;
  width: ${({width:e})=>e===o?"100%":`${e}px`};
`,i=(0,a.Z)(r.Z)`
  &.ant-row.ant-form-item {
    margin: 0;
  }
`,s=a.Z.div`
  color: ${({theme:e,status:t="error"})=>{var n;return null==(n=e.colors[t])?void 0:n.base}};
`},56080:(e,t,n)=>{n.d(t,{EG:()=>s,WO:()=>i,vb:()=>l});var a=n(88889),r=n(54076),o=n(61641);const l=(e,t,n=!1,a=!1)=>{const r={};return n?r.adhoc_filters=[{expressionType:o.p.Sql,clause:o.N.Where,sqlExpression:"1 = 0"}]:null!=t&&0!==t.length&&(r.filters=[{col:e,op:a?"NOT IN":"IN",val:t}]),r},i=(e,t,n)=>{const a=[];return null!=t&&t!==n&&a.push({col:e,op:">=",val:t}),null!=n&&n!==t&&a.push({col:e,op:"<=",val:n}),null!=n&&null!=t&&n===t&&a.push({col:e,op:"==",val:n}),a.length?{filters:a}:{}};function s({timeFormatter:e,numberFormatter:t}={}){return(n,o)=>{if(null==n)return r.li;if("boolean"==typeof n)return n?r.Tb:r.jy;if(o===a.Z.Boolean)try{return JSON.parse(String(n).toLowerCase())?r.Tb:r.jy}catch{return r.jy}return"string"==typeof n?n:e&&o===a.Z.Temporal?e(n):t&&"number"==typeof n&&o===a.Z.Numeric?t(n):String(n)}}},90057:(e,t,n)=>{n.d(t,{C:()=>l,x:()=>o});var a=n(12902),r=n(67294);function o(e){var t=(0,r.useState)((function(){return(0,a.vV)("function"==typeof e?e():e,!0)})),n=t[1];return[t[0],(0,r.useCallback)((function(e){n("function"==typeof e?(0,a.Uy)(e):(0,a.vV)(e))}),[])]}function l(e,t,n){var o=(0,r.useMemo)((function(){return(0,a.Uy)(e)}),[e]);return(0,r.useReducer)(o,t,n)}}}]);
//# sourceMappingURL=67f2fdfb2dbc29469de1.chunk.js.map