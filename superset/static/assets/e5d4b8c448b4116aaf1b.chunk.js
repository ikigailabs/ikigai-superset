"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[8604],{28846:(e,t,r)=>{r.d(t,{A:()=>A});var s=r(97032),i=r(96540),o=r(45160),n=r(56324),a=r(1081),h=r(28176),l=r(91249),d=r(80145),c=r(95579),u=r(27577),p=r(40012),m=r(54111),f=r(11460),g=r(17437);function v(e){return e}const y=()=>null,P={id:"",className:"",preTransformProps:v,overrideTransformProps:void 0,postTransformProps:v,onRenderSuccess(){},onRenderFailure(){}},w=new m.A;class R extends i.PureComponent{constructor(...e){super(...e),this.container=void 0,this.processChartProps=(0,a.Mz)([e=>e.chartProps,e=>e.preTransformProps,e=>e.transformProps,e=>e.postTransformProps],((e,t=v,r=v,s=v)=>s(r(t(e))))),this.createLoadableRenderer=(0,a.Mz)([e=>e.chartType,e=>e.overrideTransformProps],((e,t)=>{if(e){const r=(0,f.A)({loader:{Chart:()=>(0,u.A)().getAsPromise(e),transformProps:t?()=>Promise.resolve(t):()=>(0,p.A)().getAsPromise(e)},loading:t=>this.renderLoading(t,e),render:this.renderChart});return r.preload(),r}return y})),this.renderChart=(e,t)=>{const{Chart:r,transformProps:s}=e,{chartProps:i,preTransformProps:o,postTransformProps:n}=t;return(0,g.Y)(r,this.processChartProps({chartProps:i,preTransformProps:o,transformProps:s,postTransformProps:n}))},this.renderLoading=(e,t)=>{const{error:r}=e;return r?(0,g.Y)("div",{className:"alert alert-warning",role:"alert"},(0,g.Y)("strong",null,(0,c.t)("ERROR"))," ",(0,g.Y)("code",null,'chartType="',t,'"')," —",r.toString()):null},this.setRef=e=>{this.container=e}}render(){const{id:e,className:t,preTransformProps:r,postTransformProps:i,chartProps:o=w,onRenderSuccess:n,onRenderFailure:a}=this.props,h=this.createLoadableRenderer(this.props);if(null===o)return null;const l={};return e&&(l.id=e),t&&(l.className=t),(0,g.Y)("div",(0,s.A)({},l,{ref:this.setRef}),(0,g.Y)(h,{preTransformProps:r,postTransformProps:i,chartProps:o,onRenderSuccess:n,onRenderFailure:a}))}}R.defaultProps=P;var S=r(90017);const D={maxWidth:800},C=S.A.div`
  ${({theme:e,width:t,height:r})=>g.AH`
    align-items: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
    height: ${r}px;
    width: ${t}px;
    padding: ${4*e.gridUnit}px;

    & .no-results-title {
      font-size: ${e.typography.sizes.l}px;
      font-weight: ${e.typography.weights.bold};
      padding-bottom: ${2*e.gridUnit};
    }

    & .no-results-body {
      font-size: ${e.typography.sizes.m}px;
    }
  `}
`,b=({className:e,height:t,id:r,width:s})=>{const i="string"==typeof s||s>250,o=(0,c.t)("No results were returned for this query. If you expected results to be returned, ensure any filters are configured properly and the datasource contains data for the selected time range.");return(0,g.Y)(C,{height:t,width:s,className:e,id:r,title:i?void 0:o},(0,g.Y)("div",{style:D},(0,g.Y)("div",{className:"no-results-title"},(0,c.t)("No Results")),i&&(0,g.Y)("div",{className:"no-results-body"},o)))},T={FallbackComponent:function({componentStack:e,error:t,height:r,width:s}){return(0,g.Y)("div",{css:e=>({backgroundColor:e.colors.grayscale.dark2,color:e.colors.grayscale.light5,overflow:"auto",padding:32}),style:{height:r,width:s}},(0,g.Y)("div",null,(0,g.Y)("div",null,(0,g.Y)("b",null,(0,c.t)("Oops! An error occurred!"))),(0,g.Y)("code",null,t?t.toString():"Unknown Error")),e&&(0,g.Y)("div",null,(0,g.Y)("b",null,(0,c.t)("Stack Trace:")),(0,g.Y)("code",null,e.split("\n").map((e=>(0,g.Y)("div",{key:e},e))))))},height:400,width:"100%",enableNoResults:!0};class Y extends i.PureComponent{constructor(...e){super(...e),this.core=void 0,this.createChartProps=m.A.createSelector(),this.parseDimension=(0,a.Mz)([({width:e})=>e,({height:e})=>e],((e,t)=>{const r=(0,l.A)(e),s=(0,l.A)(t),o={height:s.isDynamic?100*s.multiplier+"%":s.value,width:r.isDynamic?100*r.multiplier+"%":r.value};return{BoundingBox:r.isDynamic&&s.isDynamic&&1===r.multiplier&&1===s.multiplier?i.Fragment:({children:e})=>(0,g.Y)("div",{style:o},e),heightInfo:s,widthInfo:r}})),this.setRef=e=>{this.core=e},this.getQueryCount=()=>{var e,t;return null!=(e=null==(t=(0,d.A)().get(this.props.chartType))?void 0:t.queryObjectCount)?e:1}}renderChart(e,t){const{id:r,className:i,chartType:n,preTransformProps:a,overrideTransformProps:h,postTransformProps:l,onRenderSuccess:d,onRenderFailure:c,disableErrorBoundary:u,FallbackComponent:p,onErrorBoundary:m,Wrapper:f,queriesData:v,enableNoResults:y,noResults:P,theme:w,...S}=this.props,D=this.createChartProps({...S,queriesData:v,height:t,width:e,theme:w});let C;if(!y||v&&!v.slice(0,this.getQueryCount()).every((({data:e})=>!e||Array.isArray(e)&&0===e.length))){const s=(0,g.Y)(R,{ref:this.setRef,id:r,className:i,chartType:n,chartProps:D,preTransformProps:a,overrideTransformProps:h,postTransformProps:l,onRenderSuccess:d,onRenderFailure:c});C=f?(0,g.Y)(f,{width:e,height:t},s):s}else C=P||(0,g.Y)(b,{id:r,className:i,height:t,width:e});return!0===u?C:(0,g.Y)(o.Ay,{FallbackComponent:r=>(0,g.Y)(p,(0,s.A)({width:e,height:t},r)),onError:m},C)}render(){const{heightInfo:e,widthInfo:t,BoundingBox:r}=this.parseDimension(this.props);if(t.isDynamic||e.isDynamic){const{debounceTime:s}=this.props;return(0,g.Y)(r,null,(0,g.Y)(n.A,{debounceTime:s},(({width:r,height:s})=>this.renderChart(t.isDynamic?Math.floor(r):t.value,e.isDynamic?Math.floor(s):e.value))))}return this.renderChart(t.value,e.value)}}Y.defaultProps=T;const A=(0,h.b)(Y)},11460:(e,t,r)=>{r.d(t,{A:()=>n});var s=r(53259),i=r.n(s);const o={onRenderFailure(){},onRenderSuccess(){}};function n(e){const t=i().Map(e);class r extends t{componentDidMount(){this.afterRender()}componentDidUpdate(){this.afterRender()}afterRender(){const{loaded:e,loading:t,error:r}=this.state,{onRenderFailure:s,onRenderSuccess:i}=this.props;t||(r?s(r):e&&Object.keys(e).length>0&&i())}}return r.defaultProps=void 0,r.defaultProps=o,r.preload=t.preload,r}},54111:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(1081),i=r(75451);const o=800,n=600;class a{constructor(e={}){this.annotationData=void 0,this.datasource=void 0,this.rawDatasource=void 0,this.initialValues=void 0,this.formData=void 0,this.rawFormData=void 0,this.height=void 0,this.hooks=void 0,this.ownState=void 0,this.filterState=void 0,this.legendState=void 0,this.queriesData=void 0,this.width=void 0,this.behaviors=void 0,this.displaySettings=void 0,this.appSection=void 0,this.isRefreshing=void 0,this.inputRef=void 0,this.inContextMenu=void 0,this.emitCrossFilters=void 0,this.theme=void 0;const{annotationData:t={},datasource:r={},formData:s={},hooks:a={},ownState:h={},filterState:l={},legendState:d,initialValues:c={},queriesData:u=[],behaviors:p=[],displaySettings:m={},width:f=o,height:g=n,appSection:v,isRefreshing:y,inputRef:P,inContextMenu:w=!1,emitCrossFilters:R=!1,theme:S}=e;this.width=f,this.height=g,this.annotationData=t,this.datasource=(0,i.A)(r),this.rawDatasource=r,this.formData=(0,i.A)(s),this.rawFormData=s,this.hooks=a,this.initialValues=c,this.queriesData=u,this.ownState=h,this.filterState=l,this.legendState=d,this.behaviors=p,this.displaySettings=m,this.appSection=v,this.isRefreshing=y,this.inputRef=P,this.inContextMenu=w,this.emitCrossFilters=R,this.theme=S}}a.createSelector=void 0,a.createSelector=function(){return(0,s.Mz)((e=>e.annotationData),(e=>e.datasource),(e=>e.formData),(e=>e.height),(e=>e.hooks),(e=>e.initialValues),(e=>e.queriesData),(e=>e.width),(e=>e.ownState),(e=>e.filterState),(e=>e.legendState),(e=>e.behaviors),(e=>e.displaySettings),(e=>e.appSection),(e=>e.isRefreshing),(e=>e.inputRef),(e=>e.inContextMenu),(e=>e.emitCrossFilters),(e=>e.theme),((e,t,r,s,i,o,n,h,l,d,c,u,p,m,f,g,v,y,P)=>new a({annotationData:e,datasource:t,formData:r,height:s,hooks:i,initialValues:o,queriesData:n,ownState:l,filterState:d,legendState:c,width:h,behaviors:u,displaySettings:p,appSection:m,isRefreshing:f,inputRef:g,inContextMenu:v,emitCrossFilters:y,theme:P})))}},91249:(e,t,r)=>{r.d(t,{A:()=>i});const s={isDynamic:!0,multiplier:1};function i(e){return"auto"===e||"100%"===e?s:"string"==typeof e&&e.length>0&&"%"===e[e.length-1]?{isDynamic:!0,multiplier:parseFloat(e)/100}:{isDynamic:!1,value:"number"==typeof e?e:parseFloat(e)}}},45905:(e,t,r)=>{r.d(t,{h:()=>o});var s=r(96540),i=r(83505);function o(e,t){const r=(0,i.Z)(e);(0,s.useEffect)((()=>{e!==r&&t(r,e)}),[e,r,t])}},75451:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(79674),i=r.n(s),o=r(11331),n=r.n(o),a=r(84058),h=r.n(a);function l(e){if(null==e)return e;if(n()(e))return i()(e,((e,t)=>h()(t)));throw new Error(`Cannot convert input that is not a plain object: ${e}`)}}}]);
//# sourceMappingURL=e5d4b8c448b4116aaf1b.chunk.js.map